"use strict";var DebugPanelLogger=(()=>{var He=Object.create;var W=Object.defineProperty;var Oe=Object.getOwnPropertyDescriptor;var _e=Object.getOwnPropertyNames;var ze=Object.getPrototypeOf,$e=Object.prototype.hasOwnProperty;var Ie=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports),Pe=(o,e)=>{for(var t in e)W(o,t,{get:e[t],enumerable:!0})},Le=(o,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of _e(e))!$e.call(o,i)&&i!==t&&W(o,i,{get:()=>e[i],enumerable:!(n=Oe(e,i))||n.enumerable});return o};var We=(o,e,t)=>(t=o!=null?He(ze(o)):{},Le(e||!o||!o.__esModule?W(t,"default",{value:o,enumerable:!0}):t,o)),Be=o=>Le(W({},"__esModule",{value:!0}),o);var Se=Ie((_,K)=>{(function(o,e){typeof _=="object"&&typeof K=="object"?K.exports=e():typeof define=="function"&&define.amd?define("EventBus",[],e):typeof _=="object"?_.EventBus=e():o.EventBus=e()})(_,function(){var o={};o=function(){this.listeners={}},o.prototype={addEventListener:function(t,n,i){for(var r=[],s=arguments.length,a=0;a<s;a++)r.push(arguments[a]);r=r.length>3?r.splice(3,r.length-1):[],typeof this.listeners[t]<"u"?this.listeners[t].push({scope:i,callback:n,args:r}):this.listeners[t]=[{scope:i,callback:n,args:r}]},removeEventListener:function(t,n,i){if(typeof this.listeners[t]<"u"){for(var r=this.listeners[t].length,s=[],a=0;a<r;a++){var l=this.listeners[t][a];l.scope==i&&l.callback==n||s.push(l)}this.listeners[t]=s}},hasEventListener:function(t,n,i){if(typeof this.listeners[t]<"u"){var r=this.listeners[t].length;if(n===void 0&&i===void 0)return r>0;for(var s=0;s<r;s++){var a=this.listeners[t][s];if((!i||a.scope==i)&&a.callback==n)return!0}}return!1},dispatch:function(t,n){for(var i={type:t,target:n},r=[],s=arguments.length,a=0;a<s;a++)r.push(arguments[a]);if(r=r.length>2?r.splice(2,r.length-1):[],r=[i].concat(r),typeof this.listeners[t]<"u")for(var l=this.listeners[t].slice(),u=l.length,a=0;a<u;a++){var d=l[a];if(d&&d.callback){var h=r.concat(d.args);d.callback.apply(d.scope,h)}}},getEvents:function(){var t="";for(var n in this.listeners)for(var i=this.listeners[n].length,r=0;r<i;r++){var s=this.listeners[n][r];t+=s.scope&&s.scope.className?s.scope.className:"anonymous",t+=" listen for '"+n+`'
`}return t}};var e=new o;return e})});var dt={};Pe(dt,{DebugPanel:()=>$,DebugPanelLogModule:()=>G,JsonView:()=>F,ScreenPosition:()=>Ce,debugState:()=>Me,getWindowSize:()=>M,makeDraggable:()=>z,makeResizable:()=>J});var Ve=".debug-panel{position:fixed;z-index:99999;background:#222;border-radius:8px;box-shadow:0 4px 10px rgba(0,0,0,.3);display:flex;flex-direction:column;overflow:hidden;font-family:Arial,sans-serif;color:#fff;transition:transform .2s ease-in-out,visibility .2s ease-in-out}.debug-panel.visible{visibility:visible;transform:translateY(0)}.debug-panel:not(.visible){visibility:hidden;transform:translateY(10px);pointer-events:none}.debug-panel .debug-panel-tabs{display:flex;flex-wrap:wrap;background:#111;padding:5px;gap:5px;border-bottom:1px solid hsla(0,0%,100%,.1);cursor:grab;user-select:none}.debug-panel .debug-panel-tabs:active{cursor:grabbing}.debug-panel .debug-panel-tabs .debug-tab{background:#333;color:#ccc;padding:5px 10px;border:none;border-radius:4px;cursor:pointer;transition:background .2s ease-in-out}.debug-panel .debug-panel-tabs .debug-tab:hover{background:#444;color:#fff}.debug-panel .debug-panel-tabs .debug-tab:focus{outline:none}.debug-panel .debug-panel-tabs .debug-tab.active{background:#007bff;color:#fff}.debug-panel .debug-panel-content{flex:1;display:flex;flex-direction:column;overflow-y:auto;padding:0px 15px;background:#1a1a1a}.debug-panel .debug-panel-content .debug-tab-content{display:none;flex-direction:column;flex:1;gap:5px}.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry{background:#292929;color:#ddd;padding:5px 8px;border-radius:4px;font-size:12px;word-break:break-word;border-left:3px solid #007bff;position:relative;display:flex;align-items:center}.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry:hover .debug-delete-button,.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry:hover .debug-copy-button{opacity:1}.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-log-entry-text{flex:1;padding-right:70px}.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-action-button,.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-delete-button,.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-copy-button{position:absolute;top:50%;transform:translateY(-50%);background:rgba(100,100,100,.8);color:#fff;border:none;cursor:pointer;font-size:12px;font-weight:bold;width:20px;height:20px;border-radius:50%;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .2s ease-in-out,background .2s ease-in-out}.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-action-button:hover,.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-delete-button:hover,.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-copy-button:hover{background:#969696}.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-copy-button{right:36px;background:rgba(85,170,255,.8)}.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-copy-button:hover{background:#28f}.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-delete-button{right:8px;background:rgba(255,85,85,.8)}.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-delete-button:hover{background:#f22}.debug-panel .debug-toolbar{display:flex;width:100%;align-items:center;justify-content:flex-end;gap:8px;padding:8px;background:#111;border-top:1px solid hsla(0,0%,100%,.1);flex-wrap:wrap}.debug-panel .debug-toolbar .debug-keyboard-hint{margin-right:auto;color:#999;font-size:11px;white-space:nowrap}.debug-panel .debug-toolbar .debug-opacity-container{display:flex;align-items:center;gap:5px;max-width:100px;min-width:40px;flex-shrink:1;padding:5px 0}.debug-panel .debug-toolbar .debug-opacity-container .debug-opacity-label{font-size:11px;color:#999;white-space:nowrap}.debug-panel .debug-toolbar .debug-opacity-container .debug-opacity-slider{flex:1;min-width:40px;width:100%;max-width:100%;height:4px;background:#444;border-radius:2px;outline:none;-webkit-appearance:none;appearance:none}.debug-panel .debug-toolbar .debug-opacity-container .debug-opacity-slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:14px;height:14px;background:#007bff;cursor:pointer;border-radius:50%;position:relative;top:-4px;transition:background .2s}.debug-panel .debug-toolbar .debug-opacity-container .debug-opacity-slider::-webkit-slider-thumb:hover{background:#0056b3}.debug-panel .debug-toolbar .debug-opacity-container .debug-opacity-slider::-moz-range-thumb{width:14px;height:14px;background:#007bff;cursor:pointer;border-radius:50%;border:none;position:relative;top:-4px;transition:background .2s}.debug-panel .debug-toolbar .debug-opacity-container .debug-opacity-slider::-moz-range-thumb:hover{background:#0056b3}.debug-panel .debug-toolbar .debug-opacity-container .debug-opacity-slider::-webkit-slider-runnable-track{height:4px;background:#444;border-radius:2px}.debug-panel .debug-toolbar .debug-opacity-container .debug-opacity-slider::-moz-range-track{height:4px;background:#444;border-radius:2px}.debug-panel .debug-toolbar button{background:#d9534f;color:#fff;border:none;padding:6px 12px;border-radius:4px;font-size:12px;cursor:pointer;transition:background .2s;white-space:nowrap;flex-shrink:0}.debug-panel .debug-toolbar button:hover{background:#c9302c}.debug-panel .debug-toolbar button:focus{outline:none}.debug-panel .debug-toolbar{container-type:inline-size}@container (max-width: 350px){.debug-panel .debug-toolbar{flex-direction:column;align-items:stretch}.debug-panel .debug-toolbar .debug-keyboard-hint{display:none}.debug-panel .debug-toolbar .debug-opacity-container{max-width:100%;justify-content:center}}.debug-panel.narrow-panel .debug-toolbar{flex-direction:column;align-items:stretch}.debug-panel.narrow-panel .debug-toolbar .debug-keyboard-hint{margin-right:0;text-align:center}.debug-panel.narrow-panel .debug-toolbar .debug-opacity-container{max-width:100%;justify-content:center}.debug-panel .resize-handle{position:absolute;background:hsla(0,0%,100%,.1);z-index:10;transition:background .2s}.debug-panel .resize-handle:hover{background:hsla(0,0%,100%,.3)}.debug-panel .resize-left,.debug-panel .resize-right{top:0;bottom:0;width:6px;cursor:ew-resize}.debug-panel .resize-left{left:-3px}.debug-panel .resize-right{right:-3px}.debug-panel .resize-top,.debug-panel .resize-bottom{left:0;right:0;height:6px;cursor:ns-resize}.debug-panel .resize-top{top:-3px}.debug-panel .resize-bottom{bottom:-3px}.debug-panel .resize-top-left,.debug-panel .resize-top-right,.debug-panel .resize-bottom-left,.debug-panel .resize-bottom-right{width:10px;height:10px}.debug-panel .resize-top-left{left:-3px;top:-3px;cursor:nwse-resize}.debug-panel .resize-top-right{right:-3px;top:-3px;cursor:nesw-resize}.debug-panel .resize-bottom-left{left:-3px;bottom:-3px;cursor:nesw-resize}.debug-panel .resize-bottom-right{right:-3px;bottom:-3px;cursor:nwse-resize}.debug-state{position:relative;flex:1 0 100%;display:flex;flex-direction:column;margin-bottom:10px;margin-left:10px}.debug-state .json-toggle{position:absolute;top:7px;left:-20px;margin-right:5px;border:none;background:none;cursor:pointer;color:#888;font-size:14px;padding:0;width:20px;height:20px;transition:color .2s}.debug-state .json-toggle:hover{color:#fff}.debug-state .json-toggle:focus{outline:none}.debug-state .debug-state-label{font-size:13px;font-weight:bold;padding:5px 0;color:#ccc}.debug-state .debug-state-label:hover{color:#fff;cursor:pointer;text-decoration:underline}.debug-state .json-wrapper{padding:5px;margin-left:-15px;background:#292929;border-radius:4px;border-left:3px solid #28a745}.debug-state.collapsed .json-wrapper{display:none}";if(typeof document<"u"){let o=document.createElement("style");o.textContent=Ve,document.head.appendChild(o)}var qe=".json-node{position:relative;margin-left:20px;padding-left:0;font-size:12px;line-height:1.4em}.json-node .json-properties{display:flex;flex-direction:column}.json-node .json-property{position:relative;display:flex;align-items:flex-start;padding:2px 0}.json-node .json-property.object{flex-direction:column}.json-node .json-key{font-weight:bold;margin-right:5px;color:#9cdcfe}.json-node .json-key.clickable{cursor:pointer}.json-node .json-key.clickable:hover{color:#4fc3f7;text-decoration:underline}.json-node .json-value{color:#ce9178;white-space:pre-wrap;word-break:break-word;flex:1}.json-node .json-toggle{position:absolute;top:2px;left:-20px;border:none;background:none;cursor:pointer;color:#888;font-size:12px;padding:0;width:16px;height:16px;transition:color .2s}.json-node .json-toggle:hover{color:#fff}.json-node .json-toggle:focus{outline:none}.json-node .collapsed .json-properties{display:none}";if(typeof document<"u"){let o=document.createElement("style");o.textContent=qe,document.head.appendChild(o)}var Y=We(Se(),1);function Je(o){let e=function(t,n){if(typeof n?.toJSON=="function"&&(n=n.toJSON()),!(n!==null&&typeof n=="object"))return n;if(o.has(n))return"[Circular]";o.add(n);let i=Array.isArray(n)?[]:{};for(let[r,s]of Object.entries(n))i[r]=e(r,s);return o.delete(n),i};return e}function B(o,{indentation:e}={}){return JSON.stringify(o,Je(new WeakSet),e)}function Xe(o){var e;let t=/^\/(.*)\/([gimyu]*)$/.exec(o.toString());if(!t)throw new Error("Invalid RegExp");return new RegExp((e=t[1])!==null&&e!==void 0?e:"",t[2])}function k(o){if(typeof o!="object")return o;if(o===null)return null;if(Array.isArray(o))return o.map(k);if(o instanceof Date)return new Date(o.getTime());if(o instanceof RegExp)return Xe(o);let e={};for(let t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=k(o[t]));return e}function Re(o,e){if(o.length===0)throw new Error(e||"Expected a non-empty array")}var ke=o=>o[o.length-1];var S=class{setResult(e){return this.result=e,this.hasResult=!0,this}exit(){return this.exiting=!0,this}push(e,t){return e.parent=this,typeof t<"u"&&(e.childName=t),e.root=this.root||this,e.options=e.options||this.options,this.children?(Re(this.children),ke(this.children).next=e,this.children.push(e)):(this.children=[e],this.nextAfterChildren=this.next||null,this.next=e),e.next=this,this}};var U=class extends S{constructor(e,t){super(),this.left=e,this.right=t,this.pipe="diff"}prepareDeltaResult(e){var t,n,i,r;if(typeof e=="object"&&(!((t=this.options)===null||t===void 0)&&t.omitRemovedValues&&Array.isArray(e)&&e.length>1&&(e.length===2||e[2]===0||e[2]===3)&&(e[0]=0),!((n=this.options)===null||n===void 0)&&n.cloneDiffValues)){let s=typeof((i=this.options)===null||i===void 0?void 0:i.cloneDiffValues)=="function"?(r=this.options)===null||r===void 0?void 0:r.cloneDiffValues:k;typeof e[0]=="object"&&(e[0]=s(e[0])),typeof e[1]=="object"&&(e[1]=s(e[1]))}return e}setResult(e){return this.prepareDeltaResult(e),super.setResult(e)}},L=U;var Q=class extends S{constructor(e,t){super(),this.left=e,this.delta=t,this.pipe="patch"}},D=Q;var Z=class extends S{constructor(e){super(),this.delta=e,this.pipe="reverse"}},A=Z;var ee=class{constructor(e){this.name=e,this.filters=[]}process(e){if(!this.processor)throw new Error("add this pipe to a processor before using it");let t=this.debug,n=this.filters.length,i=e;for(let r=0;r<n;r++){let s=this.filters[r];if(s&&(t&&this.log(`filter: ${s.filterName}`),s(i),typeof i=="object"&&i.exiting)){i.exiting=!1;break}}!i.next&&this.resultCheck&&this.resultCheck(i)}log(e){console.log(`[jsondiffpatch] ${this.name} pipe, ${e}`)}append(...e){return this.filters.push(...e),this}prepend(...e){return this.filters.unshift(...e),this}indexOf(e){if(!e)throw new Error("a filter name is required");for(let t=0;t<this.filters.length;t++){let n=this.filters[t];if(n?.filterName===e)return t}throw new Error(`filter not found: ${e}`)}list(){return this.filters.map(e=>e.filterName)}after(e,...t){let n=this.indexOf(e);return this.filters.splice(n+1,0,...t),this}before(e,...t){let n=this.indexOf(e);return this.filters.splice(n,0,...t),this}replace(e,...t){let n=this.indexOf(e);return this.filters.splice(n,1,...t),this}remove(e){let t=this.indexOf(e);return this.filters.splice(t,1),this}clear(){return this.filters.length=0,this}shouldHaveResult(e){return e===!1?(this.resultCheck=null,this):this.resultCheck?this:(this.resultCheck=t=>{if(!t.hasResult){console.log(t);let n=new Error(`${this.name} failed`);throw n.noResult=!0,n}},this)}},V=ee;var te=class{constructor(e){this.selfOptions=e||{},this.pipes={}}options(e){return e&&(this.selfOptions=e),this.selfOptions}pipe(e,t){let n=t;if(typeof e=="string"){if(typeof n>"u")return this.pipes[e];this.pipes[e]=n}if(e&&e.name){if(n=e,n.processor===this)return n;this.pipes[n.name]=n}if(!n)throw new Error(`pipe is not defined: ${e}`);return n.processor=this,n}process(e,t){let n=e;n.options=this.options();let i=t||e.pipe||"default",r;for(;i;)typeof n.nextAfterChildren<"u"&&(n.next=n.nextAfterChildren,n.nextAfterChildren=null),typeof i=="string"&&(i=this.pipe(i)),i.process(n),r=i,i=null,n&&n.next&&(n=n.next,i=n.pipe||r);return n.hasResult?n.result:void 0}},Te=te;var Ye=(o,e,t,n)=>o[t]===e[n],Ge=(o,e,t,n)=>{var i,r,s;let a=o.length,l=e.length,u,d,h=new Array(a+1);for(u=0;u<a+1;u++){let p=new Array(l+1);for(d=0;d<l+1;d++)p[d]=0;h[u]=p}for(h.match=t,u=1;u<a+1;u++){let p=h[u];if(p===void 0)throw new Error("LCS matrix row is undefined");let c=h[u-1];if(c===void 0)throw new Error("LCS matrix row is undefined");for(d=1;d<l+1;d++)t(o,e,u-1,d-1,n)?p[d]=((i=c[d-1])!==null&&i!==void 0?i:0)+1:p[d]=Math.max((r=c[d])!==null&&r!==void 0?r:0,(s=p[d-1])!==null&&s!==void 0?s:0)}return h},Ke=(o,e,t,n)=>{let i=e.length,r=t.length,s={sequence:[],indices1:[],indices2:[]};for(;i!==0&&r!==0;){if(o.match===void 0)throw new Error("LCS matrix match function is undefined");if(o.match(e,t,i-1,r-1,n))s.sequence.unshift(e[i-1]),s.indices1.unshift(i-1),s.indices2.unshift(r-1),--i,--r;else{let l=o[i];if(l===void 0)throw new Error("LCS matrix row is undefined");let u=l[r-1];if(u===void 0)throw new Error("LCS matrix value is undefined");let d=o[i-1];if(d===void 0)throw new Error("LCS matrix row is undefined");let h=d[r];if(h===void 0)throw new Error("LCS matrix value is undefined");u>h?--r:--i}}return s},Ue=(o,e,t,n)=>{let i=n||{},r=Ge(o,e,t||Ye,i);return Ke(r,o,e,i)},je={get:Ue};var T=3;function Qe(o,e,t,n){for(let i=0;i<t;i++){let r=o[i];for(let s=0;s<n;s++){let a=e[s];if(i!==s&&r===a)return!0}}return!1}function q(o,e,t,n,i){let r=o[t],s=e[n];if(r===s)return!0;if(typeof r!="object"||typeof s!="object")return!1;let a=i.objectHash;if(!a)return i.matchByPosition&&t===n;i.hashCache1=i.hashCache1||[];let l=i.hashCache1[t];if(typeof l>"u"&&(i.hashCache1[t]=l=a(r,t)),typeof l>"u")return!1;i.hashCache2=i.hashCache2||[];let u=i.hashCache2[n];return typeof u>"u"&&(i.hashCache2[n]=u=a(s,n)),typeof u>"u"?!1:l===u}var ne=function(e){var t,n,i,r,s;if(!e.leftIsArray)return;let a={objectHash:(t=e.options)===null||t===void 0?void 0:t.objectHash,matchByPosition:(n=e.options)===null||n===void 0?void 0:n.matchByPosition},l=0,u=0,d,h,p,c=e.left,f=e.right,g=c.length,m=f.length,y;for(g>0&&m>0&&!a.objectHash&&typeof a.matchByPosition!="boolean"&&(a.matchByPosition=!Qe(c,f,g,m));l<g&&l<m&&q(c,f,l,l,a);)d=l,y=new L(c[d],f[d]),e.push(y,d),l++;for(;u+l<g&&u+l<m&&q(c,f,g-1-u,m-1-u,a);)h=g-1-u,p=m-1-u,y=new L(c[h],f[p]),e.push(y,p),u++;let b;if(l+u===g){if(g===m){e.setResult(void 0).exit();return}for(b=b||{_t:"a"},d=l;d<m-u;d++)b[d]=[f[d]],e.prepareDeltaResult(b[d]);e.setResult(b).exit();return}if(l+u===m){for(b=b||{_t:"a"},d=l;d<g-u;d++){let w=`_${d}`;b[w]=[c[d],0,0],e.prepareDeltaResult(b[w])}e.setResult(b).exit();return}a.hashCache1=void 0,a.hashCache2=void 0;let R=c.slice(l,g-u),x=f.slice(l,m-u),v=je.get(R,x,q,a),E=[];for(b=b||{_t:"a"},d=l;d<g-u;d++)if(v.indices1.indexOf(d-l)<0){let w=`_${d}`;b[w]=[c[d],0,0],e.prepareDeltaResult(b[w]),E.push(d)}let H=!0;!((i=e.options)===null||i===void 0)&&i.arrays&&e.options.arrays.detectMove===!1&&(H=!1);let O=!1;!((s=(r=e.options)===null||r===void 0?void 0:r.arrays)===null||s===void 0)&&s.includeValueOnMove&&(O=!0);let j=E.length;for(d=l;d<m-u;d++){let w=v.indices2.indexOf(d-l);if(w<0){let C=!1;if(H&&j>0)for(let I=0;I<j;I++){h=E[I];let P=h===void 0?void 0:b[`_${h}`];if(h!==void 0&&P&&q(R,x,h-l,d-l,a)){P.splice(1,2,d,T),P.splice(1,2,d,T),O||(P[0]=""),p=d,y=new L(c[h],f[p]),e.push(y,p),E.splice(I,1),C=!0;break}}C||(b[d]=[f[d]],e.prepareDeltaResult(b[d]))}else{if(v.indices1[w]===void 0)throw new Error(`Invalid indexOnArray2: ${w}, seq.indices1: ${v.indices1}`);if(h=v.indices1[w]+l,v.indices2[w]===void 0)throw new Error(`Invalid indexOnArray2: ${w}, seq.indices2: ${v.indices2}`);p=v.indices2[w]+l,y=new L(c[h],f[p]),e.push(y,p)}}e.setResult(b).exit()};ne.filterName="arrays";var De={numerically(o,e){return o-e},numericallyBy(o){return(e,t)=>e[o]-t[o]}},ie=function(e){var t;if(!e.nested)return;let n=e.delta;if(n._t!=="a")return;let i,r,s=n,a=e.left,l=[],u=[],d=[];for(i in s)if(i!=="_t")if(i[0]==="_"){let c=i;if(s[c]!==void 0&&(s[c][2]===0||s[c][2]===T))l.push(Number.parseInt(i.slice(1),10));else throw new Error(`only removal or move can be applied at original array indices, invalid diff type: ${(t=s[c])===null||t===void 0?void 0:t[2]}`)}else{let c=i;s[c].length===1?u.push({index:Number.parseInt(c,10),value:s[c][0]}):d.push({index:Number.parseInt(c,10),delta:s[c]})}for(l=l.sort(De.numerically),i=l.length-1;i>=0;i--){if(r=l[i],r===void 0)continue;let c=s[`_${r}`],f=a.splice(r,1)[0];c?.[2]===T&&u.push({index:c[1],value:f})}u=u.sort(De.numericallyBy("index"));let h=u.length;for(i=0;i<h;i++){let c=u[i];c!==void 0&&a.splice(c.index,0,c.value)}let p=d.length;if(p>0)for(i=0;i<p;i++){let c=d[i];if(c===void 0)continue;let f=new D(a[c.index],c.delta);e.push(f,c.index)}if(!e.children){e.setResult(a).exit();return}e.exit()};ie.filterName="arrays";var re=function(e){if(!e||!e.children||e.delta._t!=="a")return;let n=e.left,i=e.children.length;for(let r=0;r<i;r++){let s=e.children[r];if(s===void 0)continue;let a=s.childName;n[a]=s.result}e.setResult(n).exit()};re.filterName="arraysCollectChildren";var oe=function(e){if(!e.nested){let i=e.delta;if(i[2]===T){let r=i;e.newName=`_${r[1]}`,e.setResult([r[0],Number.parseInt(e.childName.substring(1),10),T]).exit()}return}let t=e.delta;if(t._t!=="a")return;let n=t;for(let i in n){if(i==="_t")continue;let r=new A(n[i]);e.push(r,i)}e.exit()};oe.filterName="arrays";var Ze=(o,e,t)=>{if(typeof e=="string"&&e[0]==="_")return Number.parseInt(e.substring(1),10);if(Array.isArray(t)&&t[2]===0)return`_${e}`;let n=+e;for(let i in o){let r=o[i];if(Array.isArray(r))if(r[2]===T){let s=Number.parseInt(i.substring(1),10),a=r[1];if(a===+e)return s;s<=n&&a>n?n++:s>=n&&a<n&&n--}else r[2]===0?Number.parseInt(i.substring(1),10)<=n&&n++:r.length===1&&Number.parseInt(i,10)<=n&&n--}return n},se=o=>{if(!o||!o.children)return;let e=o.delta;if(e._t!=="a")return;let t=e,n=o.children.length,i={_t:"a"};for(let r=0;r<n;r++){let s=o.children[r];if(s===void 0)continue;let a=s.newName;if(typeof a>"u"){if(s.childName===void 0)throw new Error("child.childName is undefined");a=Ze(t,s.childName,s.result)}i[a]!==s.result&&(i[a]=s.result)}o.setResult(i).exit()};se.filterName="arraysCollectChildren";var ae=function(e){e.left instanceof Date?(e.right instanceof Date?e.left.getTime()!==e.right.getTime()?e.setResult([e.left,e.right]):e.setResult(void 0):e.setResult([e.left,e.right]),e.exit()):e.right instanceof Date&&e.setResult([e.left,e.right]).exit()};ae.filterName="dates";var le=o=>{if(!o||!o.children)return;let e=o.children.length,t=o.result;for(let n=0;n<e;n++){let i=o.children[n];if(i!==void 0&&!(typeof i.result>"u")){if(t=t||{},i.childName===void 0)throw new Error("diff child.childName is undefined");t[i.childName]=i.result}}t&&o.leftIsArray&&(t._t="a"),o.setResult(t).exit()};le.filterName="collectChildren";var de=o=>{var e;if(o.leftIsArray||o.leftType!=="object")return;let t=o.left,n=o.right,i=(e=o.options)===null||e===void 0?void 0:e.propertyFilter;for(let r in t){if(!Object.prototype.hasOwnProperty.call(t,r)||i&&!i(r,o))continue;let s=new L(t[r],n[r]);o.push(s,r)}for(let r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&!(i&&!i(r,o))&&typeof t[r]>"u"){let s=new L(void 0,n[r]);o.push(s,r)}if(!o.children||o.children.length===0){o.setResult(void 0).exit();return}o.exit()};de.filterName="objects";var ue=function(e){if(!e.nested)return;let t=e.delta;if(t._t)return;let n=t;for(let i in n){let r=new D(e.left[i],n[i]);e.push(r,i)}e.exit()};ue.filterName="objects";var ce=function(e){if(!e||!e.children||e.delta._t)return;let n=e.left,i=e.children.length;for(let r=0;r<i;r++){let s=e.children[r];if(s===void 0)continue;let a=s.childName;Object.prototype.hasOwnProperty.call(e.left,a)&&s.result===void 0?delete n[a]:n[a]!==s.result&&(n[a]=s.result)}e.setResult(n).exit()};ce.filterName="collectChildren";var pe=function(e){if(!e.nested||e.delta._t)return;let n=e.delta;for(let i in n){let r=new A(n[i]);e.push(r,i)}e.exit()};pe.filterName="objects";var fe=o=>{if(!o||!o.children||o.delta._t)return;let t=o.children.length,n={};for(let i=0;i<t;i++){let r=o.children[i];if(r===void 0)continue;let s=r.childName;n[s]!==r.result&&(n[s]=r.result)}o.setResult(n).exit()};fe.filterName="collectChildren";var he=null;function Ae(o,e){var t;if(!he){let n;if(!((t=o?.textDiff)===null||t===void 0)&&t.diffMatchPatch)n=new o.textDiff.diffMatchPatch;else{if(!e)return null;let i=new Error("The diff-match-patch library was not provided. Pass the library in through the options or use the `jsondiffpatch/with-text-diffs` entry-point.");throw i.diff_match_patch_not_found=!0,i}he={diff:(i,r)=>n.patch_toText(n.patch_make(i,r)),patch:(i,r)=>{let s=n.patch_apply(n.patch_fromText(r),i);for(let a of s[1])if(!a){let l=new Error("text patch failed");throw l.textPatchFailed=!0,l}return s[0]}}}return he}var ge=function(e){var t,n;if(e.leftType!=="string")return;let i=e.left,r=e.right,s=((n=(t=e.options)===null||t===void 0?void 0:t.textDiff)===null||n===void 0?void 0:n.minLength)||60;if(i.length<s||r.length<s){e.setResult([i,r]).exit();return}let a=Ae(e.options);if(!a){e.setResult([i,r]).exit();return}let l=a.diff;e.setResult([l(i,r),0,2]).exit()};ge.filterName="texts";var be=function(e){if(e.nested)return;let t=e.delta;if(t[2]!==2)return;let n=t,i=Ae(e.options,!0).patch;e.setResult(i(e.left,n[0])).exit()};be.filterName="texts";var it=o=>{var e,t,n;let i=/^@@ +-(\d+),(\d+) +\+(\d+),(\d+) +@@$/,r=o.split(`
`);for(let s=0;s<r.length;s++){let a=r[s];if(a===void 0)continue;let l=a.slice(0,1);if(l==="@"){let u=i.exec(a);if(u!==null){let d=s;r[d]=`@@ -${u[3]},${u[4]} +${u[1]},${u[2]} @@`}}else if(l==="+"){if(r[s]=`-${(e=r[s])===null||e===void 0?void 0:e.slice(1)}`,((t=r[s-1])===null||t===void 0?void 0:t.slice(0,1))==="+"){let u=r[s];r[s]=r[s-1],r[s-1]=u}}else l==="-"&&(r[s]=`+${(n=r[s])===null||n===void 0?void 0:n.slice(1)}`)}return r.join(`
`)},me=function(e){if(e.nested)return;let t=e.delta;if(t[2]!==2)return;let n=t;e.setResult([it(n[0]),0,2]).exit()};me.filterName="texts";var ye=function(e){if(e.left===e.right){e.setResult(void 0).exit();return}if(typeof e.left>"u"){if(typeof e.right=="function")throw new Error("functions are not supported");e.setResult([e.right]).exit();return}if(typeof e.right>"u"){e.setResult([e.left,0,0]).exit();return}if(typeof e.left=="function"||typeof e.right=="function")throw new Error("functions are not supported");if(e.leftType=e.left===null?"null":typeof e.left,e.rightType=e.right===null?"null":typeof e.right,e.leftType!==e.rightType){e.setResult([e.left,e.right]).exit();return}if(e.leftType==="boolean"||e.leftType==="number"){e.setResult([e.left,e.right]).exit();return}if(e.leftType==="object"&&(e.leftIsArray=Array.isArray(e.left)),e.rightType==="object"&&(e.rightIsArray=Array.isArray(e.right)),e.leftIsArray!==e.rightIsArray){e.setResult([e.left,e.right]).exit();return}e.left instanceof RegExp&&(e.right instanceof RegExp?e.setResult([e.left.toString(),e.right.toString()]).exit():e.setResult([e.left,e.right]).exit())};ye.filterName="trivial";var ve=function(e){if(typeof e.delta>"u"){e.setResult(e.left).exit();return}if(e.nested=!Array.isArray(e.delta),e.nested)return;let t=e.delta;if(t.length===1){e.setResult(t[0]).exit();return}if(t.length===2){if(e.left instanceof RegExp){let n=/^\/(.*)\/([gimyu]+)$/.exec(t[1]);if(n?.[1]){e.setResult(new RegExp(n[1],n[2])).exit();return}}e.setResult(t[1]).exit();return}t.length===3&&t[2]===0&&e.setResult(void 0).exit()};ve.filterName="trivial";var xe=function(e){if(typeof e.delta>"u"){e.setResult(e.delta).exit();return}if(e.nested=!Array.isArray(e.delta),e.nested)return;let t=e.delta;if(t.length===1){e.setResult([t[0],0,0]).exit();return}if(t.length===2){e.setResult([t[1],t[0]]).exit();return}t.length===3&&t[2]===0&&e.setResult([t[0]]).exit()};xe.filterName="trivial";var we=class{constructor(e){this.processor=new Te(e),this.processor.pipe(new V("diff").append(le,ye,ae,ge,de,ne).shouldHaveResult()),this.processor.pipe(new V("patch").append(ce,re,ve,be,ue,ie).shouldHaveResult()),this.processor.pipe(new V("reverse").append(fe,se,xe,me,pe,oe).shouldHaveResult())}options(e){return this.processor.options(e)}diff(e,t){return this.processor.process(new L(e,t))}patch(e,t){return this.processor.process(new D(e,t))}reverse(e){return this.processor.process(new A(e))}unpatch(e,t){return this.patch(e,this.reverse(t))}clone(e){return k(e)}},Ee=we;var N;function Ne(o,e){return N||(N=new Ee),N.diff(o,e)}function Fe(o,e){return N||(N=new Ee),N.patch(o,e)}var at=()=>({expandAll:!1,expandObjects:[],useViewState:!0}),F=class{constructor(e,t,n){this.viewStates={};this.json=e,this.parentContainer=t,this.options=Object.assign({},at(),n||{}),this.render()}render(){this.parentContainer.innerHTML="";let e=this.drawJsonNode(this.json);this.parentContainer.appendChild(e)}toggleExpandNode(e,t,n){let i=e.classList.contains("collapsed");e.classList.toggle("collapsed",!i),this.viewStates[t]=!i,n&&(n.textContent=i?"[-]":"[+]")}drawJsonNode(e,t=""){let n=document.createElement("div");n.classList.add("json-node");let i=document.createElement("div");i.classList.add("json-properties");for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)){let s=`${t}${r}`,a=document.createElement("div");a.classList.add("json-property"),a.setAttribute("data-path",s);let l=document.createElement("span");l.classList.add("json-key"),l.textContent=r+": ";let u=document.createElement("div");u.classList.add("json-value");let d=e[r],h=typeof d=="object"&&d!==null,p=Array.isArray(d);if(h){l.classList.add("clickable"),p?l.textContent=`${r} (${d.length})`:l.textContent=r;let c=p&&d.length>0?!0:Object.keys(d).length>0;a.classList.add("object");let f=document.createElement("button");f.classList.add("json-toggle");let g=this.drawJsonNode(d,s+"/");if(this.options.expandAll)f.textContent="[-]";else{let m=!1;p&&c?m=!0:this.options.expandObjs?.forEach(y=>{new RegExp(y).test(s)&&(m=!0)}),this.options.useViewState&&typeof this.viewStates[s]<"u"&&(m=!this.viewStates[s]),m?f.textContent="[-]":(f.textContent="[+]",g.classList.add("collapsed"))}f.onclick=()=>this.toggleExpandNode(g,s,f),l.onclick=()=>this.toggleExpandNode(g,s,f),a.appendChild(f),u.appendChild(g)}else u.textContent=String(d);a.appendChild(l),a.appendChild(u),i.appendChild(a)}return n.appendChild(i),n}updateJson(e){let t=Ne(this.json,e);Fe(this.json,t),this.render()}};function J(o,e={}){o.querySelectorAll(".resize-handle").forEach(x=>x.remove());let{handles:t=["top","left","right","bottom","top-left","top-right","bottom-left","bottom-right"],maxWidth:n=1/0,maxHeight:i=1/0,minWidth:r=100,minHeight:s=100,onResize:a=()=>{}}=e,l=!1,u=null,d=0,h=0,p=0,c=0,f=0,g=0;function m(x){let v=document.createElement("div");v.classList.add("resize-handle",`resize-${x}`),v.addEventListener("mousedown",E=>y(E,x)),o.appendChild(v)}function y(x,v){l=!0,u=v,d=x.clientX,h=x.clientY,p=o.offsetWidth,c=o.offsetHeight,f=o.offsetLeft,g=o.offsetTop,x.preventDefault(),x.stopPropagation(),document.addEventListener("mousemove",b),document.addEventListener("mouseup",R)}function b(x){if(!l||!u)return;let v=p,E=c,H=f,O=g,j=x.clientX-d,w=x.clientY-h;if(u.includes("right")&&(v=Math.min(Math.max(p+j,r),n)),u.includes("left")){let C=p-j;C>=r&&C<=n&&(v=C,H=f+j)}if(u.includes("bottom")&&(E=Math.min(Math.max(c+w,s),i)),u.includes("top")){let C=c-w;C>=s&&C<=i&&(E=C,O=g+w)}o.style.width=`${v}px`,o.style.height=`${E}px`,o.style.left=`${H}px`,o.style.top=`${O}px`,a(v,E)}function R(){l=!1,u=null,document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",R)}t.forEach(x=>m(x))}function z(o,e,t={}){let n=e||o,i=!1,r=0,s=0,a=0,l=0,{onDragStart:u,onDrag:d,onDragEnd:h}=t;function p(g){let m=g.target;if(m.tagName==="BUTTON"||m.closest("button"))return;i=!0,r=g.clientX,s=g.clientY;let y=getComputedStyle(o);a=parseInt(y.left)||o.offsetLeft,l=parseInt(y.top)||o.offsetTop,y.position!=="absolute"&&y.position!=="fixed"&&(o.style.position="absolute",o.style.left=`${a}px`,o.style.top=`${l}px`),g.preventDefault(),n.style.cursor="grabbing",u&&u(g),document.addEventListener("mousemove",c),document.addEventListener("mouseup",f)}function c(g){if(!i)return;let m=g.clientX-r,y=g.clientY-s,b=a+m,R=l+y;o.style.left=`${b}px`,o.style.top=`${R}px`,d&&d(b,R)}function f(){i&&(i=!1,n.style.cursor="grab",h&&h(),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",f))}return n.style.cursor="grab",n.addEventListener("mousedown",p),()=>{n.removeEventListener("mousedown",p),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",f)}}function M(){let o=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,e=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;return{width:o,height:e}}var X="objects",Ce=(l=>(l.TopLeft="topLeft",l.Top="top",l.TopRight="topRight",l.Right="right",l.BottomRight="bottomRight",l.Bottom="bottom",l.BottomLeft="bottomLeft",l.Left="left",l))(Ce||{}),lt=280,G=class{constructor(e={}){this.name="DebugPanel";this.panel=new $(e)}onLog(e){this.panel.addLog(e.namespace,e.args)}print(...e){if(e.length){let t=[];e.forEach(n=>{typeof n=="object"?this.panel.debugState("",n):t.push(n)})}}},$=class{constructor(e={}){this.tabEntries={};this.debugStates={};this.activeTab="global";this.options={position:"bottomRight",width:600,height:400,snap:!1,snapPadding:20,...e},this.container=this.createContainer(),this.tabContainer=this.createTabContainer(),this.contentContainer=this.createContentContainer(),this.container.appendChild(this.tabContainer),this.container.appendChild(this.contentContainer),this.toolbar=this.createGlobalToolbar(),this.container.appendChild(this.toolbar),document.body.appendChild(this.container),this.addTab(X),this.addTab("global"),this.restoreSettings(),this.setupResizable(),this.setupDraggable(),this.setupEventListeners(),this.setupKeyboardShortcut(),e.show&&!this.loadSettings()&&this.show()}createContainer(){let e=document.createElement("div");return e.classList.add("debug-panel"),e.style.width=`${this.options.width}px`,e.style.height=`${this.options.height}px`,e.style.position="fixed",e.style.opacity="1",e}createTabContainer(){let e=document.createElement("div");return e.classList.add("debug-panel-tabs"),e}createContentContainer(){let e=document.createElement("div");return e.classList.add("debug-panel-content"),e}restoreSettings(){let e=this.loadSettings();if(e){this.container.style.left=`${e.left}px`,this.container.style.top=`${e.top}px`,this.container.style.width=`${e.width}px`,this.container.style.height=`${e.height}px`;let t=e.opacity!==void 0?e.opacity:1;this.container.style.opacity=String(t),this.opacitySlider&&(this.opacitySlider.value=String(Math.round(t*100))),e.visible?this.container.classList.add("visible"):this.container.classList.remove("visible")}else this.setupPosition()}loadSettings(){try{let e=localStorage.getItem("debugPanelSettings");if(e)return JSON.parse(e)}catch(e){console.error("Failed to load debug panel settings:",e)}return null}saveSettings(){try{let e=parseFloat(this.container.style.opacity)||1,t={left:parseInt(this.container.style.left)||this.container.offsetLeft,top:parseInt(this.container.style.top)||this.container.offsetTop,width:this.container.offsetWidth,height:this.container.offsetHeight,visible:this.container.classList.contains("visible"),opacity:e};localStorage.setItem("debugPanelSettings",JSON.stringify(t))}catch(e){console.error("Failed to save debug panel settings:",e)}}setupPosition(){let{width:e,height:t}=M(),n=this.options.width||600,i=this.options.height||400,r=0,s=0;switch(this.options.position){case"topLeft":r=0,s=0;break;case"top":r=(e-n)/2,s=0;break;case"topRight":r=e-n,s=0;break;case"right":r=e-n,s=(t-i)/2;break;case"bottomRight":r=e-n,s=t-i;break;case"bottom":r=(e-n)/2,s=t-i;break;case"bottomLeft":r=0,s=t-i;break;case"left":r=0,s=(t-i)/2;break}this.container.style.left=`${r}px`,this.container.style.top=`${s}px`}createGlobalToolbar(){let e=document.createElement("div");e.classList.add("debug-toolbar");let t=document.createElement("span");t.classList.add("debug-keyboard-hint"),t.textContent="Ctrl+Alt+D to hide/show",t.style.color="#999",t.style.fontSize="11px";let n=document.createElement("div");n.classList.add("debug-opacity-container");let i=document.createElement("label");i.classList.add("debug-opacity-label"),i.textContent="O",i.style.fontSize="11px",i.style.color="#999",i.style.marginRight="5px",this.opacitySlider=document.createElement("input"),this.opacitySlider.type="range",this.opacitySlider.min="20",this.opacitySlider.max="100",this.opacitySlider.value="100",this.opacitySlider.classList.add("debug-opacity-slider"),this.opacitySlider.oninput=()=>this.handleOpacityChange(),n.appendChild(this.opacitySlider);let r=document.createElement("button");r.classList.add("debug-clear-button"),r.textContent="Clear",r.onclick=()=>this.clearCurrentTab();let s=document.createElement("button");return s.classList.add("debug-hide-button"),s.textContent="Hide",s.onclick=()=>this.hide(),e.appendChild(t),e.appendChild(n),e.appendChild(r),e.appendChild(s),e}handleOpacityChange(){let t=parseInt(this.opacitySlider.value)/100;this.container.classList.contains("visible")&&(this.container.style.opacity=String(t)),this.saveSettings()}setupResizable(){let{width:e,height:t}=M();J(this.container,{handles:["top","left","right","bottom","top-left","top-right","bottom-left","bottom-right"],maxWidth:e-20,maxHeight:t-20,minWidth:200,minHeight:150,onResize:n=>{this.updateToolbarLayout(n),this.saveSettings()}})}updateToolbarLayout(e){e<lt?this.container.classList.add("narrow-panel"):this.container.classList.remove("narrow-panel")}setupDraggable(){this.options.snap?z(this.container,this.tabContainer,{onDrag:(e,t)=>this.handleSnapWhileDragging(e,t),onDragEnd:()=>this.saveSettings()}):z(this.container,this.tabContainer,{onDragEnd:()=>this.saveSettings()})}handleSnapWhileDragging(e,t){let n=this.options.snapPadding||20,{width:i,height:r}=M(),s=this.container.offsetWidth,a=this.container.offsetHeight,l=e,u=t;e<n?l=0:e+s>i-n&&(l=i-s),t<n?u=0:t+a>r-n&&(u=r-a),(l!==e||u!==t)&&(this.container.style.left=`${l}px`,this.container.style.top=`${u}px`)}setupKeyboardShortcut(){document.addEventListener("keydown",e=>{e.ctrlKey&&e.altKey&&e.key.toLowerCase()==="d"&&(e.preventDefault(),this.toggle())})}setupEventListeners(){Y.default.addEventListener("log",e=>{let{namespace:t,message:n}=e.target;this.addLog(t,n)}),Y.default.addEventListener("debug-state",e=>{let{id:t,state:n}=e.target;if(!t||!n){console.log("Invalid event data for debug-state. Expected {id,state}, got:",e);return}this.debugState(t,n)})}debugState(e,t){let n=B(t),i=JSON.parse(n);this.debugStates[e]?this.updateDebugState(e,i):this.addDebugState(e,i)}updateDebugState(e,t){let n=this.contentContainer.querySelector(`[data-namespace="${X}"]`);if(!n){console.error("No content for debug namespace.");return}let i=n.querySelector(`#debug-state-${e}`);if(!i){console.error(`No debug state found for ${e}.`);return}let r=i.querySelector(".json-wrapper");if(!r){console.error(`No json wrapper found for existing state ${e}`);return}r.innerHTML="",this.debugStates[e].state=t,this.debugStates[e].jsonView.updateJson(t)}addDebugState(e,t){let n=this.contentContainer.querySelector(`[data-namespace="${X}"]`);if(!n){console.error("No content for debug namespace.");return}let i=document.createElement("div");i.classList.add("debug-state"),i.setAttribute("id",`debug-state-${e}`);let r=()=>{let d=this.debugStates[e].isExpanded;this.debugStates[e].isExpanded=!d,i.classList.toggle("collapsed",d),s.textContent=d?"[+]":"[-]"},s=document.createElement("button");s.classList.add("json-toggle"),s.textContent="[-]",s.onclick=r,i.appendChild(s);let a=document.createElement("div");a.classList.add("debug-state-label"),a.innerText=e||"untitled",a.onclick=r,i.appendChild(a);let l=document.createElement("div");l.classList.add("json-wrapper"),i.appendChild(l);let u=new F(t,l,{expandObjs:[/children/,/children\/(.*)/,/entry/]});this.debugStates[e]={state:t,jsonView:u,isExpanded:!0},n.appendChild(i)}addTab(e){if(this.tabEntries[e])return;this.tabEntries[e]=[];let t=document.createElement("button");t.classList.add("debug-tab"),t.textContent=e,t.onclick=()=>this.switchTab(e),this.tabContainer.appendChild(t);let n=document.createElement("div");n.classList.add("debug-tab-content"),n.dataset.namespace=e,this.contentContainer.appendChild(n),Object.keys(this.tabEntries).length===1&&this.switchTab(e)}clearCurrentTab(){this.clearTab(this.activeTab)}clearTab(e){let t=this.contentContainer.querySelector(`[data-namespace="${e}"]`);t&&(this.tabEntries[e]=[],e===X&&Object.keys(this.debugStates).forEach(n=>{delete this.debugStates[n]}),t.innerHTML="")}switchTab(e){this.activeTab=e,this.tabContainer.querySelectorAll(".debug-tab").forEach((n,i)=>{let r=Object.keys(this.tabEntries)[i];n.classList.toggle("active",r===e)}),this.contentContainer.querySelectorAll(".debug-tab-content").forEach(n=>{n.style.display="none"});let t=this.contentContainer.querySelector(`[data-namespace="${e}"]`);t&&(t.style.display="block")}addLog(e,t){this.tabEntries[e]||this.addTab(e);let n={id:`${e}-${Date.now()}-${Math.random()}`,message:t,timestamp:new Date};this.tabEntries[e].push(n);let i=this.contentContainer.querySelector(`[data-namespace="${e}"]`);if(!i)return;let r=this.createLogElement(n,e);i.appendChild(r),e!=="global"&&this.addLog("global",t)}createLogElement(e,t){let n=document.createElement("div");n.classList.add("debug-log-entry"),n.dataset.logId=e.id;let i=document.createElement("div");i.innerText=`[${e.timestamp.toLocaleTimeString()}] ${this.renderLogEntry(e.message)}`,i.classList.add("debug-log-entry-text");let r=document.createElement("button");r.innerText="\u{1F4CB}",r.classList.add("debug-copy-button"),r.onclick=()=>navigator.clipboard.writeText(i.innerText);let s=document.createElement("button");return s.innerText="\u274C",s.classList.add("debug-delete-button"),s.onclick=()=>this.removeLogEntry(t,e.id,n),n.appendChild(i),n.appendChild(r),n.appendChild(s),n}removeLogEntry(e,t,n){this.tabEntries[e]=this.tabEntries[e].filter(i=>i.id!==t),n.remove()}renderLogEntry(e){return Array.isArray(e)?e.join(" "):typeof e=="object"?B(e):String(e)}show(){this.container.classList.add("visible");let e=parseFloat(this.container.style.opacity)||1;this.container.style.opacity=String(e),this.saveSettings()}hide(){this.container.classList.remove("visible"),this.saveSettings()}toggle(){this.container.classList.contains("visible")?this.hide():this.show()}};function Me(o,e){Y.default.dispatch("debug-state",{id:o,state:e})}return Be(dt);})();
//# sourceMappingURL=index.umd.js.map
