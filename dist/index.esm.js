var N=".debug-panel{position:fixed;z-index:99999;background:#222;border-radius:8px;box-shadow:0 4px 10px rgba(0,0,0,.3);display:flex;flex-direction:column;overflow:hidden;font-family:Arial,sans-serif;color:#fff;transition:transform .2s ease-in-out,visibility .2s ease-in-out}.debug-panel.visible{visibility:visible;transform:translateY(0)}.debug-panel:not(.visible){visibility:hidden;transform:translateY(10px);pointer-events:none}.debug-panel .debug-panel-tabs{display:flex;flex-wrap:wrap;background:#111;padding:5px;gap:5px;border-bottom:1px solid hsla(0,0%,100%,.1);cursor:grab;user-select:none}.debug-panel .debug-panel-tabs:active{cursor:grabbing}.debug-panel .debug-panel-tabs .debug-tab{background:#333;color:#ccc;padding:5px 10px;border:none;border-radius:4px;cursor:pointer;transition:background .2s ease-in-out}.debug-panel .debug-panel-tabs .debug-tab:hover{background:#444;color:#fff}.debug-panel .debug-panel-tabs .debug-tab:focus{outline:none}.debug-panel .debug-panel-tabs .debug-tab.active{background:#007bff;color:#fff}.debug-panel .debug-panel-content{flex:1;display:flex;flex-direction:column;overflow-y:auto;padding:0px 15px;background:#1a1a1a}.debug-panel .debug-panel-content .debug-tab-content{display:none;flex-direction:column;flex:1;gap:5px}.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry{background:#292929;color:#ddd;padding:5px 8px;border-radius:4px;font-size:12px;word-break:break-word;border-left:3px solid #007bff;position:relative;display:flex;align-items:center}.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry:hover .debug-delete-button,.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry:hover .debug-copy-button{opacity:1}.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-log-entry-text{flex:1;padding-right:70px}.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-action-button,.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-delete-button,.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-copy-button{position:absolute;top:50%;transform:translateY(-50%);background:rgba(100,100,100,.8);color:#fff;border:none;cursor:pointer;font-size:12px;font-weight:bold;width:20px;height:20px;border-radius:50%;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .2s ease-in-out,background .2s ease-in-out}.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-action-button:hover,.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-delete-button:hover,.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-copy-button:hover{background:#969696}.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-copy-button{right:36px;background:rgba(85,170,255,.8)}.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-copy-button:hover{background:#28f}.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-delete-button{right:8px;background:rgba(255,85,85,.8)}.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-delete-button:hover{background:#f22}.debug-panel .debug-toolbar{display:flex;width:100%;align-items:center;justify-content:flex-end;gap:8px;padding:8px;background:#111;border-top:1px solid hsla(0,0%,100%,.1);flex-wrap:wrap}.debug-panel .debug-toolbar .debug-keyboard-hint{margin-right:auto;color:#999;font-size:11px;white-space:nowrap}.debug-panel .debug-toolbar .debug-opacity-container{display:flex;align-items:center;gap:5px;max-width:100px;min-width:40px;flex-shrink:1;padding:5px 0}.debug-panel .debug-toolbar .debug-opacity-container .debug-opacity-label{font-size:11px;color:#999;white-space:nowrap}.debug-panel .debug-toolbar .debug-opacity-container .debug-opacity-slider{flex:1;min-width:40px;width:100%;max-width:100%;height:4px;background:#444;border-radius:2px;outline:none;-webkit-appearance:none;appearance:none}.debug-panel .debug-toolbar .debug-opacity-container .debug-opacity-slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:14px;height:14px;background:#007bff;cursor:pointer;border-radius:50%;position:relative;top:-4px;transition:background .2s}.debug-panel .debug-toolbar .debug-opacity-container .debug-opacity-slider::-webkit-slider-thumb:hover{background:#0056b3}.debug-panel .debug-toolbar .debug-opacity-container .debug-opacity-slider::-moz-range-thumb{width:14px;height:14px;background:#007bff;cursor:pointer;border-radius:50%;border:none;position:relative;top:-4px;transition:background .2s}.debug-panel .debug-toolbar .debug-opacity-container .debug-opacity-slider::-moz-range-thumb:hover{background:#0056b3}.debug-panel .debug-toolbar .debug-opacity-container .debug-opacity-slider::-webkit-slider-runnable-track{height:4px;background:#444;border-radius:2px}.debug-panel .debug-toolbar .debug-opacity-container .debug-opacity-slider::-moz-range-track{height:4px;background:#444;border-radius:2px}.debug-panel .debug-toolbar button{background:#d9534f;color:#fff;border:none;padding:6px 12px;border-radius:4px;font-size:12px;cursor:pointer;transition:background .2s;white-space:nowrap;flex-shrink:0}.debug-panel .debug-toolbar button:hover{background:#c9302c}.debug-panel .debug-toolbar button:focus{outline:none}.debug-panel .debug-toolbar{container-type:inline-size}@container (max-width: 350px){.debug-panel .debug-toolbar{flex-direction:column;align-items:stretch}.debug-panel .debug-toolbar .debug-keyboard-hint{display:none}.debug-panel .debug-toolbar .debug-opacity-container{max-width:100%;justify-content:center}}.debug-panel.narrow-panel .debug-toolbar{flex-direction:column;align-items:stretch}.debug-panel.narrow-panel .debug-toolbar .debug-keyboard-hint{margin-right:0;text-align:center}.debug-panel.narrow-panel .debug-toolbar .debug-opacity-container{max-width:100%;justify-content:center}.debug-panel .resize-handle{position:absolute;background:hsla(0,0%,100%,.1);z-index:10;transition:background .2s}.debug-panel .resize-handle:hover{background:hsla(0,0%,100%,.3)}.debug-panel .resize-left,.debug-panel .resize-right{top:0;bottom:0;width:6px;cursor:ew-resize}.debug-panel .resize-left{left:-3px}.debug-panel .resize-right{right:-3px}.debug-panel .resize-top,.debug-panel .resize-bottom{left:0;right:0;height:6px;cursor:ns-resize}.debug-panel .resize-top{top:-3px}.debug-panel .resize-bottom{bottom:-3px}.debug-panel .resize-top-left,.debug-panel .resize-top-right,.debug-panel .resize-bottom-left,.debug-panel .resize-bottom-right{width:10px;height:10px}.debug-panel .resize-top-left{left:-3px;top:-3px;cursor:nwse-resize}.debug-panel .resize-top-right{right:-3px;top:-3px;cursor:nesw-resize}.debug-panel .resize-bottom-left{left:-3px;bottom:-3px;cursor:nesw-resize}.debug-panel .resize-bottom-right{right:-3px;bottom:-3px;cursor:nwse-resize}.debug-state{position:relative;flex:1 0 100%;display:flex;flex-direction:column;margin-bottom:10px;margin-left:10px}.debug-state .json-toggle{position:absolute;top:7px;left:-20px;margin-right:5px;border:none;background:none;cursor:pointer;color:#888;font-size:14px;padding:0;width:20px;height:20px;transition:color .2s}.debug-state .json-toggle:hover{color:#fff}.debug-state .json-toggle:focus{outline:none}.debug-state .debug-state-label{font-size:13px;font-weight:bold;padding:5px 0;color:#ccc}.debug-state .debug-state-label:hover{color:#fff;cursor:pointer;text-decoration:underline}.debug-state .json-wrapper{padding:5px;margin-left:-15px;background:#292929;border-radius:4px;border-left:3px solid #28a745}.debug-state.collapsed .json-wrapper{display:none}";if(typeof document<"u"){let s=document.createElement("style");s.textContent=N,document.head.appendChild(s)}var B=".json-node{position:relative;margin-left:20px;padding-left:0;font-size:12px;line-height:1.4em}.json-node .json-properties{display:flex;flex-direction:column}.json-node .json-property{position:relative;display:flex;align-items:flex-start;padding:2px 0}.json-node .json-property.object{flex-direction:column}.json-node .json-key{font-weight:bold;margin-right:5px;color:#9cdcfe}.json-node .json-key.clickable{cursor:pointer}.json-node .json-key.clickable:hover{color:#4fc3f7;text-decoration:underline}.json-node .json-value{color:#ce9178;white-space:pre-wrap;word-break:break-word;flex:1}.json-node .json-toggle{position:absolute;top:2px;left:-20px;border:none;background:none;cursor:pointer;color:#888;font-size:12px;padding:0;width:16px;height:16px;transition:color .2s}.json-node .json-toggle:hover{color:#fff}.json-node .json-toggle:focus{outline:none}.json-node .collapsed .json-properties{display:none}";if(typeof document<"u"){let s=document.createElement("style");s.textContent=B,document.head.appendChild(s)}import $ from"eventbusjs";import R from"safe-stringify";import*as k from"jsondiffpatch";var I=()=>({expandAll:!1,expandObjects:[],useViewState:!0}),S=class{constructor(e,n,t){this.viewStates={};this.json=e,this.parentContainer=n,this.options=Object.assign({},I(),t||{}),this.render()}render(){this.parentContainer.innerHTML="";let e=this.drawJsonNode(this.json);this.parentContainer.appendChild(e)}toggleExpandNode(e,n,t){let o=e.classList.contains("collapsed");e.classList.toggle("collapsed",!o),this.viewStates[n]=!o,t&&(t.textContent=o?"[-]":"[+]")}drawJsonNode(e,n=""){let t=document.createElement("div");t.classList.add("json-node");let o=document.createElement("div");o.classList.add("json-properties");for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i)){let a=`${n}${i}`,l=document.createElement("div");l.classList.add("json-property"),l.setAttribute("data-path",a);let r=document.createElement("span");r.classList.add("json-key"),r.textContent=i+": ";let d=document.createElement("div");d.classList.add("json-value");let p=e[i],x=typeof p=="object"&&p!==null,b=Array.isArray(p);if(x){r.classList.add("clickable"),b?r.textContent=`${i} (${p.length})`:r.textContent=i;let f=b&&p.length>0?!0:Object.keys(p).length>0;l.classList.add("object");let g=document.createElement("button");g.classList.add("json-toggle");let c=this.drawJsonNode(p,a+"/");if(this.options.expandAll)g.textContent="[-]";else{let h=!1;b&&f?h=!0:this.options.expandObjs?.forEach(m=>{new RegExp(m).test(a)&&(h=!0)}),this.options.useViewState&&typeof this.viewStates[a]<"u"&&(h=!this.viewStates[a]),h?g.textContent="[-]":(g.textContent="[+]",c.classList.add("collapsed"))}g.onclick=()=>this.toggleExpandNode(c,a,g),r.onclick=()=>this.toggleExpandNode(c,a,g),l.appendChild(g),d.appendChild(c)}else d.textContent=String(p);l.appendChild(r),l.appendChild(d),o.appendChild(l)}return t.appendChild(o),t}updateJson(e){let n=k.diff(this.json,e);k.patch(this.json,n),this.render()}};function M(s,e={}){s.querySelectorAll(".resize-handle").forEach(u=>u.remove());let{handles:n=["top","left","right","bottom","top-left","top-right","bottom-left","bottom-right"],maxWidth:t=1/0,maxHeight:o=1/0,minWidth:i=100,minHeight:a=100,onResize:l=()=>{}}=e,r=!1,d=null,p=0,x=0,b=0,f=0,g=0,c=0;function h(u){let y=document.createElement("div");y.classList.add("resize-handle",`resize-${u}`),y.addEventListener("mousedown",w=>m(w,u)),s.appendChild(y)}function m(u,y){r=!0,d=y,p=u.clientX,x=u.clientY,b=s.offsetWidth,f=s.offsetHeight,g=s.offsetLeft,c=s.offsetTop,u.preventDefault(),u.stopPropagation(),document.addEventListener("mousemove",E),document.addEventListener("mouseup",L)}function E(u){if(!r||!d)return;let y=b,w=f,P=g,W=c,D=u.clientX-p,H=u.clientY-x;if(d.includes("right")&&(y=Math.min(Math.max(b+D,i),t)),d.includes("left")){let v=b-D;v>=i&&v<=t&&(y=v,P=g+D)}if(d.includes("bottom")&&(w=Math.min(Math.max(f+H,a),o)),d.includes("top")){let v=f-H;v>=a&&v<=o&&(w=v,W=c+H)}s.style.width=`${y}px`,s.style.height=`${w}px`,s.style.left=`${P}px`,s.style.top=`${W}px`,l(y,w)}function L(){r=!1,d=null,document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",L)}n.forEach(u=>h(u))}function T(s,e,n={}){let t=e||s,o=!1,i=0,a=0,l=0,r=0,{onDragStart:d,onDrag:p,onDragEnd:x}=n;function b(c){let h=c.target;if(h.tagName==="BUTTON"||h.closest("button"))return;o=!0,i=c.clientX,a=c.clientY;let m=getComputedStyle(s);l=parseInt(m.left)||s.offsetLeft,r=parseInt(m.top)||s.offsetTop,m.position!=="absolute"&&m.position!=="fixed"&&(s.style.position="absolute",s.style.left=`${l}px`,s.style.top=`${r}px`),c.preventDefault(),t.style.cursor="grabbing",d&&d(c),document.addEventListener("mousemove",f),document.addEventListener("mouseup",g)}function f(c){if(!o)return;let h=c.clientX-i,m=c.clientY-a,E=l+h,L=r+m;s.style.left=`${E}px`,s.style.top=`${L}px`,p&&p(E,L)}function g(){o&&(o=!1,t.style.cursor="grab",x&&x(),document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",g))}return t.style.cursor="grab",t.addEventListener("mousedown",b),()=>{t.removeEventListener("mousedown",b),document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",g)}}function C(){let s=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,e=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;return{width:s,height:e}}var j="objects",A=(r=>(r.TopLeft="topLeft",r.Top="top",r.TopRight="topRight",r.Right="right",r.BottomRight="bottomRight",r.Bottom="bottom",r.BottomLeft="bottomLeft",r.Left="left",r))(A||{}),J=280,O=class{constructor(e={}){this.name="DebugPanel";this.panel=new z(e)}onLog(e){this.panel.addLog(e.namespace,e.args)}print(...e){if(e.length){let n=[];e.forEach(t=>{typeof t=="object"?this.panel.debugState("",t):n.push(t)})}}},z=class{constructor(e={}){this.tabEntries={};this.debugStates={};this.activeTab="global";this.options={position:"bottomRight",width:600,height:400,snap:!1,snapPadding:20,...e},this.container=this.createContainer(),this.tabContainer=this.createTabContainer(),this.contentContainer=this.createContentContainer(),this.container.appendChild(this.tabContainer),this.container.appendChild(this.contentContainer),this.toolbar=this.createGlobalToolbar(),this.container.appendChild(this.toolbar),document.body.appendChild(this.container),this.addTab(j),this.addTab("global"),this.restoreSettings(),this.setupResizable(),this.setupDraggable(),this.setupEventListeners(),this.setupKeyboardShortcut(),e.show&&!this.loadSettings()&&this.show()}createContainer(){let e=document.createElement("div");return e.classList.add("debug-panel"),e.style.width=`${this.options.width}px`,e.style.height=`${this.options.height}px`,e.style.position="fixed",e.style.opacity="1",e}createTabContainer(){let e=document.createElement("div");return e.classList.add("debug-panel-tabs"),e}createContentContainer(){let e=document.createElement("div");return e.classList.add("debug-panel-content"),e}restoreSettings(){let e=this.loadSettings();if(e){this.container.style.left=`${e.left}px`,this.container.style.top=`${e.top}px`,this.container.style.width=`${e.width}px`,this.container.style.height=`${e.height}px`;let n=e.opacity!==void 0?e.opacity:1;this.container.style.opacity=String(n),this.opacitySlider&&(this.opacitySlider.value=String(Math.round(n*100))),e.visible?this.container.classList.add("visible"):this.container.classList.remove("visible")}else this.setupPosition()}loadSettings(){try{let e=localStorage.getItem("debugPanelSettings");if(e)return JSON.parse(e)}catch(e){console.error("Failed to load debug panel settings:",e)}return null}saveSettings(){try{let e=parseFloat(this.container.style.opacity)||1,n={left:parseInt(this.container.style.left)||this.container.offsetLeft,top:parseInt(this.container.style.top)||this.container.offsetTop,width:this.container.offsetWidth,height:this.container.offsetHeight,visible:this.container.classList.contains("visible"),opacity:e};localStorage.setItem("debugPanelSettings",JSON.stringify(n))}catch(e){console.error("Failed to save debug panel settings:",e)}}setupPosition(){let{width:e,height:n}=C(),t=this.options.width||600,o=this.options.height||400,i=0,a=0;switch(this.options.position){case"topLeft":i=0,a=0;break;case"top":i=(e-t)/2,a=0;break;case"topRight":i=e-t,a=0;break;case"right":i=e-t,a=(n-o)/2;break;case"bottomRight":i=e-t,a=n-o;break;case"bottom":i=(e-t)/2,a=n-o;break;case"bottomLeft":i=0,a=n-o;break;case"left":i=0,a=(n-o)/2;break}this.container.style.left=`${i}px`,this.container.style.top=`${a}px`}createGlobalToolbar(){let e=document.createElement("div");e.classList.add("debug-toolbar");let n=document.createElement("span");n.classList.add("debug-keyboard-hint"),n.textContent="Ctrl+Alt+D to hide/show",n.style.color="#999",n.style.fontSize="11px";let t=document.createElement("div");t.classList.add("debug-opacity-container");let o=document.createElement("label");o.classList.add("debug-opacity-label"),o.textContent="O",o.style.fontSize="11px",o.style.color="#999",o.style.marginRight="5px",this.opacitySlider=document.createElement("input"),this.opacitySlider.type="range",this.opacitySlider.min="20",this.opacitySlider.max="100",this.opacitySlider.value="100",this.opacitySlider.classList.add("debug-opacity-slider"),this.opacitySlider.oninput=()=>this.handleOpacityChange(),t.appendChild(this.opacitySlider);let i=document.createElement("button");i.classList.add("debug-clear-button"),i.textContent="Clear",i.onclick=()=>this.clearCurrentTab();let a=document.createElement("button");return a.classList.add("debug-hide-button"),a.textContent="Hide",a.onclick=()=>this.hide(),e.appendChild(n),e.appendChild(t),e.appendChild(i),e.appendChild(a),e}handleOpacityChange(){let n=parseInt(this.opacitySlider.value)/100;this.container.classList.contains("visible")&&(this.container.style.opacity=String(n)),this.saveSettings()}setupResizable(){let{width:e,height:n}=C();M(this.container,{handles:["top","left","right","bottom","top-left","top-right","bottom-left","bottom-right"],maxWidth:e-20,maxHeight:n-20,minWidth:200,minHeight:150,onResize:t=>{this.updateToolbarLayout(t),this.saveSettings()}})}updateToolbarLayout(e){e<J?this.container.classList.add("narrow-panel"):this.container.classList.remove("narrow-panel")}setupDraggable(){this.options.snap?T(this.container,this.tabContainer,{onDrag:(e,n)=>this.handleSnapWhileDragging(e,n),onDragEnd:()=>this.saveSettings()}):T(this.container,this.tabContainer,{onDragEnd:()=>this.saveSettings()})}handleSnapWhileDragging(e,n){let t=this.options.snapPadding||20,{width:o,height:i}=C(),a=this.container.offsetWidth,l=this.container.offsetHeight,r=e,d=n;e<t?r=0:e+a>o-t&&(r=o-a),n<t?d=0:n+l>i-t&&(d=i-l),(r!==e||d!==n)&&(this.container.style.left=`${r}px`,this.container.style.top=`${d}px`)}setupKeyboardShortcut(){document.addEventListener("keydown",e=>{e.ctrlKey&&e.altKey&&e.key.toLowerCase()==="d"&&(e.preventDefault(),this.toggle())})}setupEventListeners(){$.addEventListener("log",e=>{let{namespace:n,message:t}=e.target;this.addLog(n,t)}),$.addEventListener("debug-state",e=>{let{id:n,state:t}=e.target;if(!n||!t){console.log("Invalid event data for debug-state. Expected {id,state}, got:",e);return}this.debugState(n,t)})}debugState(e,n){let t=R(n),o=JSON.parse(t);this.debugStates[e]?this.updateDebugState(e,o):this.addDebugState(e,o)}updateDebugState(e,n){let t=this.contentContainer.querySelector(`[data-namespace="${j}"]`);if(!t){console.error("No content for debug namespace.");return}let o=t.querySelector(`#debug-state-${e}`);if(!o){console.error(`No debug state found for ${e}.`);return}let i=o.querySelector(".json-wrapper");if(!i){console.error(`No json wrapper found for existing state ${e}`);return}i.innerHTML="",this.debugStates[e].state=n,this.debugStates[e].jsonView.updateJson(n)}addDebugState(e,n){let t=this.contentContainer.querySelector(`[data-namespace="${j}"]`);if(!t){console.error("No content for debug namespace.");return}let o=document.createElement("div");o.classList.add("debug-state"),o.setAttribute("id",`debug-state-${e}`);let i=()=>{let p=this.debugStates[e].isExpanded;this.debugStates[e].isExpanded=!p,o.classList.toggle("collapsed",p),a.textContent=p?"[+]":"[-]"},a=document.createElement("button");a.classList.add("json-toggle"),a.textContent="[-]",a.onclick=i,o.appendChild(a);let l=document.createElement("div");l.classList.add("debug-state-label"),l.innerText=e||"untitled",l.onclick=i,o.appendChild(l);let r=document.createElement("div");r.classList.add("json-wrapper"),o.appendChild(r);let d=new S(n,r,{expandObjs:[/children/,/children\/(.*)/,/entry/]});this.debugStates[e]={state:n,jsonView:d,isExpanded:!0},t.appendChild(o)}addTab(e){if(this.tabEntries[e])return;this.tabEntries[e]=[];let n=document.createElement("button");n.classList.add("debug-tab"),n.textContent=e,n.onclick=()=>this.switchTab(e),this.tabContainer.appendChild(n);let t=document.createElement("div");t.classList.add("debug-tab-content"),t.dataset.namespace=e,this.contentContainer.appendChild(t),Object.keys(this.tabEntries).length===1&&this.switchTab(e)}clearCurrentTab(){this.clearTab(this.activeTab)}clearTab(e){let n=this.contentContainer.querySelector(`[data-namespace="${e}"]`);n&&(this.tabEntries[e]=[],e===j&&Object.keys(this.debugStates).forEach(t=>{delete this.debugStates[t]}),n.innerHTML="")}switchTab(e){this.activeTab=e,this.tabContainer.querySelectorAll(".debug-tab").forEach((t,o)=>{let i=Object.keys(this.tabEntries)[o];t.classList.toggle("active",i===e)}),this.contentContainer.querySelectorAll(".debug-tab-content").forEach(t=>{t.style.display="none"});let n=this.contentContainer.querySelector(`[data-namespace="${e}"]`);n&&(n.style.display="block")}addLog(e,n){this.tabEntries[e]||this.addTab(e);let t={id:`${e}-${Date.now()}-${Math.random()}`,message:n,timestamp:new Date};this.tabEntries[e].push(t);let o=this.contentContainer.querySelector(`[data-namespace="${e}"]`);if(!o)return;let i=this.createLogElement(t,e);o.appendChild(i),e!=="global"&&this.addLog("global",n)}createLogElement(e,n){let t=document.createElement("div");t.classList.add("debug-log-entry"),t.dataset.logId=e.id;let o=document.createElement("div");o.innerText=`[${e.timestamp.toLocaleTimeString()}] ${this.renderLogEntry(e.message)}`,o.classList.add("debug-log-entry-text");let i=document.createElement("button");i.innerText="\u{1F4CB}",i.classList.add("debug-copy-button"),i.onclick=()=>navigator.clipboard.writeText(o.innerText);let a=document.createElement("button");return a.innerText="\u274C",a.classList.add("debug-delete-button"),a.onclick=()=>this.removeLogEntry(n,e.id,t),t.appendChild(o),t.appendChild(i),t.appendChild(a),t}removeLogEntry(e,n,t){this.tabEntries[e]=this.tabEntries[e].filter(o=>o.id!==n),t.remove()}renderLogEntry(e){return Array.isArray(e)?e.join(" "):typeof e=="object"?R(e):String(e)}show(){this.container.classList.add("visible");let e=parseFloat(this.container.style.opacity)||1;this.container.style.opacity=String(e),this.saveSettings()}hide(){this.container.classList.remove("visible"),this.saveSettings()}toggle(){this.container.classList.contains("visible")?this.hide():this.show()}};function Y(s,e){$.dispatch("debug-state",{id:s,state:e})}export{z as DebugPanel,O as DebugPanelLogModule,S as JsonView,A as ScreenPosition,Y as debugState,C as getWindowSize,T as makeDraggable,M as makeResizable};
//# sourceMappingURL=index.esm.js.map
