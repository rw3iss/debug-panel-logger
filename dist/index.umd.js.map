{"version":3,"sources":["../node_modules/eventbusjs/lib/eventbus.min.js","../node_modules/fast-safe-stringify/index.js","../src/index.ts","../src/DebugPanel/DebugPanel.scss","../src/JsonView/JsonView.scss","../src/DebugPanel/DebugPanel.ts","../src/constants.ts","../node_modules/jsondiffpatch/lib/clone.js","../node_modules/jsondiffpatch/lib/assertions/arrays.js","../node_modules/jsondiffpatch/lib/contexts/context.js","../node_modules/jsondiffpatch/lib/contexts/diff.js","../node_modules/jsondiffpatch/lib/contexts/patch.js","../node_modules/jsondiffpatch/lib/contexts/reverse.js","../node_modules/jsondiffpatch/lib/pipe.js","../node_modules/jsondiffpatch/lib/processor.js","../node_modules/jsondiffpatch/lib/filters/lcs.js","../node_modules/jsondiffpatch/lib/filters/arrays.js","../node_modules/jsondiffpatch/lib/filters/dates.js","../node_modules/jsondiffpatch/lib/filters/nested.js","../node_modules/jsondiffpatch/lib/filters/texts.js","../node_modules/jsondiffpatch/lib/filters/trivial.js","../node_modules/jsondiffpatch/lib/diffpatcher.js","../node_modules/jsondiffpatch/lib/index.js","../src/JsonView/JsonView.ts","../src/utils/domUtils.ts"],"sourcesContent":["(function(root,factory){if(typeof exports===\"object\"&&typeof module===\"object\")module.exports=factory();else if(typeof define===\"function\"&&define.amd)define(\"EventBus\",[],factory);else if(typeof exports===\"object\")exports[\"EventBus\"]=factory();else root[\"EventBus\"]=factory()})(this,function(){var EventBusClass={};EventBusClass=function(){this.listeners={}};EventBusClass.prototype={addEventListener:function(type,callback,scope){var args=[];var numOfArgs=arguments.length;for(var i=0;i<numOfArgs;i++){args.push(arguments[i])}args=args.length>3?args.splice(3,args.length-1):[];if(typeof this.listeners[type]!=\"undefined\"){this.listeners[type].push({scope:scope,callback:callback,args:args})}else{this.listeners[type]=[{scope:scope,callback:callback,args:args}]}},removeEventListener:function(type,callback,scope){if(typeof this.listeners[type]!=\"undefined\"){var numOfCallbacks=this.listeners[type].length;var newArray=[];for(var i=0;i<numOfCallbacks;i++){var listener=this.listeners[type][i];if(listener.scope==scope&&listener.callback==callback){}else{newArray.push(listener)}}this.listeners[type]=newArray}},hasEventListener:function(type,callback,scope){if(typeof this.listeners[type]!=\"undefined\"){var numOfCallbacks=this.listeners[type].length;if(callback===undefined&&scope===undefined){return numOfCallbacks>0}for(var i=0;i<numOfCallbacks;i++){var listener=this.listeners[type][i];if((scope?listener.scope==scope:true)&&listener.callback==callback){return true}}}return false},dispatch:function(type,target){var event={type:type,target:target};var args=[];var numOfArgs=arguments.length;for(var i=0;i<numOfArgs;i++){args.push(arguments[i])}args=args.length>2?args.splice(2,args.length-1):[];args=[event].concat(args);if(typeof this.listeners[type]!=\"undefined\"){var listeners=this.listeners[type].slice();var numOfCallbacks=listeners.length;for(var i=0;i<numOfCallbacks;i++){var listener=listeners[i];if(listener&&listener.callback){var concatArgs=args.concat(listener.args);listener.callback.apply(listener.scope,concatArgs)}}}},getEvents:function(){var str=\"\";for(var type in this.listeners){var numOfCallbacks=this.listeners[type].length;for(var i=0;i<numOfCallbacks;i++){var listener=this.listeners[type][i];str+=listener.scope&&listener.scope.className?listener.scope.className:\"anonymous\";str+=\" listen for '\"+type+\"'\\n\"}}return str}};var EventBus=new EventBusClass;return EventBus});","module.exports = stringify\nstringify.default = stringify\nstringify.stable = deterministicStringify\nstringify.stableStringify = deterministicStringify\n\nvar LIMIT_REPLACE_NODE = '[...]'\nvar CIRCULAR_REPLACE_NODE = '[Circular]'\n\nvar arr = []\nvar replacerStack = []\n\nfunction defaultOptions () {\n  return {\n    depthLimit: Number.MAX_SAFE_INTEGER,\n    edgesLimit: Number.MAX_SAFE_INTEGER\n  }\n}\n\n// Regular stringify\nfunction stringify (obj, replacer, spacer, options) {\n  if (typeof options === 'undefined') {\n    options = defaultOptions()\n  }\n\n  decirc(obj, '', 0, [], undefined, 0, options)\n  var res\n  try {\n    if (replacerStack.length === 0) {\n      res = JSON.stringify(obj, replacer, spacer)\n    } else {\n      res = JSON.stringify(obj, replaceGetterValues(replacer), spacer)\n    }\n  } catch (_) {\n    return JSON.stringify('[unable to serialize, circular reference is too complex to analyze]')\n  } finally {\n    while (arr.length !== 0) {\n      var part = arr.pop()\n      if (part.length === 4) {\n        Object.defineProperty(part[0], part[1], part[3])\n      } else {\n        part[0][part[1]] = part[2]\n      }\n    }\n  }\n  return res\n}\n\nfunction setReplace (replace, val, k, parent) {\n  var propertyDescriptor = Object.getOwnPropertyDescriptor(parent, k)\n  if (propertyDescriptor.get !== undefined) {\n    if (propertyDescriptor.configurable) {\n      Object.defineProperty(parent, k, { value: replace })\n      arr.push([parent, k, val, propertyDescriptor])\n    } else {\n      replacerStack.push([val, k, replace])\n    }\n  } else {\n    parent[k] = replace\n    arr.push([parent, k, val])\n  }\n}\n\nfunction decirc (val, k, edgeIndex, stack, parent, depth, options) {\n  depth += 1\n  var i\n  if (typeof val === 'object' && val !== null) {\n    for (i = 0; i < stack.length; i++) {\n      if (stack[i] === val) {\n        setReplace(CIRCULAR_REPLACE_NODE, val, k, parent)\n        return\n      }\n    }\n\n    if (\n      typeof options.depthLimit !== 'undefined' &&\n      depth > options.depthLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    if (\n      typeof options.edgesLimit !== 'undefined' &&\n      edgeIndex + 1 > options.edgesLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    stack.push(val)\n    // Optimize for Arrays. Big arrays could kill the performance otherwise!\n    if (Array.isArray(val)) {\n      for (i = 0; i < val.length; i++) {\n        decirc(val[i], i, i, stack, val, depth, options)\n      }\n    } else {\n      var keys = Object.keys(val)\n      for (i = 0; i < keys.length; i++) {\n        var key = keys[i]\n        decirc(val[key], key, i, stack, val, depth, options)\n      }\n    }\n    stack.pop()\n  }\n}\n\n// Stable-stringify\nfunction compareFunction (a, b) {\n  if (a < b) {\n    return -1\n  }\n  if (a > b) {\n    return 1\n  }\n  return 0\n}\n\nfunction deterministicStringify (obj, replacer, spacer, options) {\n  if (typeof options === 'undefined') {\n    options = defaultOptions()\n  }\n\n  var tmp = deterministicDecirc(obj, '', 0, [], undefined, 0, options) || obj\n  var res\n  try {\n    if (replacerStack.length === 0) {\n      res = JSON.stringify(tmp, replacer, spacer)\n    } else {\n      res = JSON.stringify(tmp, replaceGetterValues(replacer), spacer)\n    }\n  } catch (_) {\n    return JSON.stringify('[unable to serialize, circular reference is too complex to analyze]')\n  } finally {\n    // Ensure that we restore the object as it was.\n    while (arr.length !== 0) {\n      var part = arr.pop()\n      if (part.length === 4) {\n        Object.defineProperty(part[0], part[1], part[3])\n      } else {\n        part[0][part[1]] = part[2]\n      }\n    }\n  }\n  return res\n}\n\nfunction deterministicDecirc (val, k, edgeIndex, stack, parent, depth, options) {\n  depth += 1\n  var i\n  if (typeof val === 'object' && val !== null) {\n    for (i = 0; i < stack.length; i++) {\n      if (stack[i] === val) {\n        setReplace(CIRCULAR_REPLACE_NODE, val, k, parent)\n        return\n      }\n    }\n    try {\n      if (typeof val.toJSON === 'function') {\n        return\n      }\n    } catch (_) {\n      return\n    }\n\n    if (\n      typeof options.depthLimit !== 'undefined' &&\n      depth > options.depthLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    if (\n      typeof options.edgesLimit !== 'undefined' &&\n      edgeIndex + 1 > options.edgesLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    stack.push(val)\n    // Optimize for Arrays. Big arrays could kill the performance otherwise!\n    if (Array.isArray(val)) {\n      for (i = 0; i < val.length; i++) {\n        deterministicDecirc(val[i], i, i, stack, val, depth, options)\n      }\n    } else {\n      // Create a temporary object in the required way\n      var tmp = {}\n      var keys = Object.keys(val).sort(compareFunction)\n      for (i = 0; i < keys.length; i++) {\n        var key = keys[i]\n        deterministicDecirc(val[key], key, i, stack, val, depth, options)\n        tmp[key] = val[key]\n      }\n      if (typeof parent !== 'undefined') {\n        arr.push([parent, k, val])\n        parent[k] = tmp\n      } else {\n        return tmp\n      }\n    }\n    stack.pop()\n  }\n}\n\n// wraps replacer function to handle values we couldn't replace\n// and mark them as replaced value\nfunction replaceGetterValues (replacer) {\n  replacer =\n    typeof replacer !== 'undefined'\n      ? replacer\n      : function (k, v) {\n        return v\n      }\n  return function (key, val) {\n    if (replacerStack.length > 0) {\n      for (var i = 0; i < replacerStack.length; i++) {\n        var part = replacerStack[i]\n        if (part[1] === key && part[0] === val) {\n          val = part[2]\n          replacerStack.splice(i, 1)\n          break\n        }\n      }\n    }\n    return replacer.call(this, key, val)\n  }\n}\n","// Import styles - these will be auto-injected when the library is used\n// @ts-ignore\nimport './DebugPanel/DebugPanel.scss';\n// @ts-ignore\nimport './JsonView/JsonView.scss';\n\n// Export main classes and utilities\nexport { debug, DebugPanel, ScreenPosition } from './DebugPanel/DebugPanel';\nexport { JsonView } from './JsonView/JsonView';\nexport { getWindowSize, makeDraggable, makeResizable } from './utils/domUtils';\n\n// Export types for TypeScript users\nexport type {\n\tDebugPanelOptions,\n\tDebugPanelSettings, DragOptions,\n\tJsonViewOptions, ResizeOptions\n} from './types';\n\n// Re-export DebugPanel as default for easier importing\nexport { DebugPanel as default } from './DebugPanel/DebugPanel';\n","\nconst css = \".debug-panel{position:fixed;z-index:99999;background:#222;border-radius:8px;box-shadow:0 4px 10px rgba(0,0,0,.3);display:flex;flex-direction:column;overflow:hidden;font-family:Arial,sans-serif;color:#fff;transition:transform .1s ease-in-out,visibility .1s ease-in-out}.debug-panel.visible{visibility:visible;transform:translateY(0)}.debug-panel:not(.visible){visibility:hidden;transform:translateY(10px);pointer-events:none}.debug-panel .debug-panel-tabs{display:flex;flex-wrap:wrap;background:#1a1a1a;padding:6px 6px 0 6px;gap:3px;cursor:grab;user-select:none}.debug-panel .debug-panel-tabs:active{cursor:grabbing}.debug-panel .debug-panel-tabs .debug-tab{background:#2d2d2d;color:#888;padding:5px 6px 7px;margin:0;border:none;border-top-left-radius:6px;border-top-right-radius:6px;cursor:pointer;position:relative;box-shadow:inset 0 -2px 4px rgba(0,0,0,.3);font-size:12px;font-family:system-ui,-apple-system,BlinkMacSystemFont,\\\"Segoe UI\\\",Roboto,Oxygen,Ubuntu,Cantarell,\\\"Open Sans\\\",\\\"Helvetica Neue\\\",sans-serif}.debug-panel .debug-panel-tabs .debug-tab:hover{background:#353535;color:#aaa}.debug-panel .debug-panel-tabs .debug-tab:focus{outline:none}.debug-panel .debug-panel-tabs .debug-tab.active{background:linear-gradient(to bottom, #3f6d9c, #324f6e, #121b25);color:#fff;box-shadow:0 -3px 8px rgba(0,102,204,.4),inset 0 1px 0 hsla(0,0%,100%,.2);z-index:1;border-bottom-left-radius:0;border-bottom-right-radius:0}.debug-panel .debug-panel-content{flex:1;display:flex;flex-direction:column;overflow-y:auto;padding:0;background:#0d0d0d;overscroll-behavior:contain}.debug-panel .debug-panel-content .debug-tab-content{display:none;flex-direction:column;flex:1;gap:2px;padding:5px 0}.debug-panel .debug-panel-content .debug-tab-content.layout-columns{display:flex;flex-direction:row;overflow-x:auto;overflow-y:hidden}.debug-panel .debug-panel-content .debug-tab-content.layout-columns .debug-state{min-width:150px;flex:1 1 0;padding:0 2px}.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry{background:#292929;color:#ddd;padding:5px 8px;border-radius:4px;font-size:12px;word-break:break-word;border-left:3px solid #007bff;position:relative;display:flex;align-items:center}.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry:hover .debug-delete-button,.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry:hover .debug-copy-button{opacity:1}.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-log-entry-text{flex:1;padding-right:70px}.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-action-button,.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-delete-button,.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-copy-button{position:absolute;top:50%;transform:translateY(-50%);background:rgba(100,100,100,.8);border:none;cursor:pointer;transition:background .1s}.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-action-button:focus,.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-delete-button:focus,.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-copy-button:focus{outline:none}.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-action-button,.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-delete-button,.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-copy-button{color:#fff;display:flex;align-items:center;justify-content:center;padding:0;margin:0;font-size:14px;width:20px;height:20px;border-radius:3px;transition:background .1s,transform .1s}.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-action-button:hover,.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-delete-button:hover,.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-copy-button:hover{transform:scale(1.1)}.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-action-button:active,.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-delete-button:active,.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-copy-button:active{transform:scale(0.95)}.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-action-button,.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-delete-button,.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-copy-button{border-radius:50%;opacity:0;transition:opacity .1s,background .1s}.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-action-button:hover,.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-delete-button:hover,.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-copy-button:hover{background:#969696}.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-copy-button{right:36px;opacity:.7}.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-copy-button:hover{opacity:1}.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-delete-button{right:8px;opacity:.7}.debug-panel .debug-panel-content .debug-tab-content .debug-log-entry .debug-delete-button:hover{opacity:1}.debug-panel .debug-toolbar{display:flex;box-sizing:border-box;width:100%;align-items:center;gap:2px;padding:2px;background:#111;border-top:1px solid hsla(0,0%,100%,.1);flex-wrap:wrap;position:relative}.debug-panel .debug-toolbar .debug-opacity-container{display:flex;align-items:center;gap:0;max-width:100px;min-width:40px;flex-shrink:1;padding:4px 0}.debug-panel .debug-toolbar .debug-opacity-container .debug-opacity-label{font-size:11px;color:#999;white-space:nowrap}.debug-panel .debug-toolbar .debug-opacity-container .debug-opacity-slider{flex:1;min-width:40px;width:100%;height:4px;background:#444;border-radius:2px;outline:none;-webkit-appearance:none;appearance:none}.debug-panel .debug-toolbar .debug-opacity-container .debug-opacity-slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:14px;height:14px;background:#007bff;cursor:pointer;border-radius:50%;position:relative;top:-4px;transition:background .1s}.debug-panel .debug-toolbar .debug-opacity-container .debug-opacity-slider::-webkit-slider-thumb:hover{background:#0056b3}.debug-panel .debug-toolbar .debug-opacity-container .debug-opacity-slider::-moz-range-thumb{width:14px;height:14px;background:#007bff;cursor:pointer;border-radius:50%;border:none;position:relative;top:-4px;transition:background .1s}.debug-panel .debug-toolbar .debug-opacity-container .debug-opacity-slider::-moz-range-thumb:hover{background:#0056b3}.debug-panel .debug-toolbar .debug-opacity-container .debug-opacity-slider::-webkit-slider-runnable-track,.debug-panel .debug-toolbar .debug-opacity-container .debug-opacity-slider::-moz-range-track{height:4px;background:#444;border-radius:2px}.debug-panel .debug-toolbar button{border:none;cursor:pointer;transition:background .1s}.debug-panel .debug-toolbar button:focus{outline:none}.debug-panel .debug-toolbar button{background:#ba6c38;color:#fff;padding:4px 6px;margin:2px;border-radius:4px;font-size:12px;white-space:nowrap;flex-shrink:0}.debug-panel .debug-toolbar button:hover{background:#c9302c}.debug-panel .debug-toolbar button.debug-icon-button{font-size:13px;padding:3px 5px;background:#555}.debug-panel .debug-toolbar button.debug-icon-button:hover{background:#666}.debug-panel .debug-toolbar .debug-settings-panel{position:absolute;bottom:100%;right:0;background:#1a1a1a;border:1px solid #444;border-radius:6px;padding:12px;margin-bottom:8px;box-shadow:0 4px 12px rgba(0,0,0,.5);min-width:200px;display:none;flex-direction:column;gap:10px;z-index:1000}.debug-panel .debug-toolbar .debug-settings-panel.visible{display:flex}.debug-panel .debug-toolbar .debug-settings-panel::before{content:\\\"\\\";position:absolute;top:-20px;left:-20px;right:-20px;bottom:-20px;z-index:-1}.debug-panel .debug-toolbar .debug-settings-panel .settings-row{display:flex;align-items:center;gap:8px;font-size:12px;color:#ccc}.debug-panel .debug-toolbar .debug-settings-panel .settings-row label{flex:1;cursor:pointer;user-select:none}.debug-panel .debug-toolbar .debug-settings-panel .settings-row input[type=checkbox]{cursor:pointer}.debug-panel .debug-toolbar .debug-settings-panel .settings-row .debug-opacity-slider{flex:1;min-width:100px}.debug-panel .resize-handle{position:absolute;background:hsla(0,0%,100%,.1);z-index:10;transition:background .1s}.debug-panel .resize-handle:hover{background:hsla(0,0%,100%,.3)}.debug-panel .resize-left,.debug-panel .resize-right{top:0;bottom:0;width:6px;cursor:ew-resize}.debug-panel .resize-left{left:-3px}.debug-panel .resize-right{right:-3px}.debug-panel .resize-top,.debug-panel .resize-bottom{left:0;right:0;height:6px;cursor:ns-resize}.debug-panel .resize-top{top:-3px}.debug-panel .resize-bottom{bottom:-3px}.debug-panel .resize-top-left,.debug-panel .resize-top-right,.debug-panel .resize-bottom-left,.debug-panel .resize-bottom-right{width:10px;height:10px}.debug-panel .resize-top-left{left:-3px;top:-3px;cursor:nwse-resize}.debug-panel .resize-top-right{right:-3px;top:-3px;cursor:nesw-resize}.debug-panel .resize-bottom-left{left:-3px;bottom:-3px;cursor:nesw-resize}.debug-panel .resize-bottom-right{right:-3px;bottom:-3px;cursor:nwse-resize}.debug-panel .debug-help-overlay{position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.95);z-index:1000;display:flex;align-items:flex-start;justify-content:center;padding:20px;overflow-y:auto;cursor:pointer;box-sizing:border-box}.debug-panel .debug-help-overlay .debug-help-content{background:linear-gradient(to bottom, #2a2a2a, #1a1a1a);border-radius:8px;padding:30px;max-width:500px;width:100%;box-shadow:0 8px 32px rgba(0,0,0,.5);border:1px solid #444;margin-top:auto;margin-bottom:auto;box-sizing:border-box}.debug-panel .debug-help-overlay .debug-help-content h2{margin:0 0 20px 0;color:#fff;font-size:24px;font-weight:bold;text-align:center;border-bottom:2px solid #007bff;padding-bottom:10px}.debug-panel .debug-help-overlay .debug-help-content .help-section{margin-bottom:25px}.debug-panel .debug-help-overlay .debug-help-content .help-section h3{color:#9cdcfe;font-size:16px;margin:0 0 10px 0;font-weight:bold}.debug-panel .debug-help-overlay .debug-help-content .help-section ul{list-style:none;padding:0;margin:0}.debug-panel .debug-help-overlay .debug-help-content .help-section ul li{padding:6px 0;color:#ddd;font-size:13px;line-height:1.5}.debug-panel .debug-help-overlay .debug-help-content .help-section ul li kbd{background:#333;border:1px solid #555;border-radius:3px;padding:2px 6px;font-family:monospace;font-size:12px;color:#9cdcfe}.debug-panel .debug-help-overlay .debug-help-content .help-section ul li strong{color:#fff}.debug-panel .debug-help-overlay .debug-help-content .help-section .help-links a{color:#4fc3f7;text-decoration:none;display:inline-flex;align-items:center;gap:6px;transition:color .1s}.debug-panel .debug-help-overlay .debug-help-content .help-section .help-links a:hover{color:#81d4fa;text-decoration:underline}.debug-panel .debug-help-overlay .debug-help-content .help-section .help-links a svg{vertical-align:middle}.debug-panel .debug-help-overlay .debug-help-content .help-close-hint{text-align:center;color:#888;font-size:12px;margin:20px 0 0 0;font-style:italic}.debug-state{position:relative;flex:1 1 100%;display:flex;flex-direction:column;margin-bottom:5px;width:100%}.debug-state .debug-state-label{font-size:13px;font-weight:bold;padding:5px 2px 5px 3px;margin-bottom:0;color:#fff;background:linear-gradient(to bottom, #3a3a3a, #2d2d2d);border-top-left-radius:4px;border-top-right-radius:4px;box-shadow:0 1px 3px rgba(0,0,0,.3);transition:all .1s ease-in-out;display:flex;align-items:center;gap:2px;width:100%;box-sizing:border-box;position:relative}.debug-state .debug-state-label:hover{background:linear-gradient(to bottom, #4a4a4a, #3d3d3d);cursor:pointer;box-shadow:0 2px 5px rgba(0,0,0,.4)}.debug-state .debug-state-label:hover .debug-state-hover-actions{opacity:1}.debug-state .debug-state-label:active{box-shadow:0 1px 2px rgba(0,0,0,.3)}.debug-state .debug-state-label .json-toggle{border:none;cursor:pointer;transition:background .1s}.debug-state .debug-state-label .json-toggle:focus{outline:none}.debug-state .debug-state-label .json-toggle{background:none;color:#888;font-size:12px;padding:0;width:20px;height:16px;transition:color .1s;flex-shrink:0}.debug-state .debug-state-label .json-toggle:hover{color:#fff}.debug-state .debug-state-label .debug-state-label-text{flex:1}.debug-state .debug-state-label .debug-state-hover-actions{display:flex;gap:4px;opacity:0;margin-right:10px;transition:opacity .1s ease-in-out;flex-shrink:0}.debug-state .debug-state-label .debug-state-action-button,.debug-state .debug-state-label .debug-state-delete-button,.debug-state .debug-state-label .debug-state-copy-button{border:none;cursor:pointer;transition:background .1s}.debug-state .debug-state-label .debug-state-action-button:focus,.debug-state .debug-state-label .debug-state-delete-button:focus,.debug-state .debug-state-label .debug-state-copy-button:focus{outline:none}.debug-state .debug-state-label .debug-state-action-button,.debug-state .debug-state-label .debug-state-delete-button,.debug-state .debug-state-label .debug-state-copy-button{color:#fff;display:flex;align-items:center;justify-content:center;padding:0;margin:0;font-size:14px;width:20px;height:20px;border-radius:3px;transition:background .1s,transform .1s}.debug-state .debug-state-label .debug-state-action-button:hover,.debug-state .debug-state-label .debug-state-delete-button:hover,.debug-state .debug-state-label .debug-state-copy-button:hover{transform:scale(1.1)}.debug-state .debug-state-label .debug-state-action-button:active,.debug-state .debug-state-label .debug-state-delete-button:active,.debug-state .debug-state-label .debug-state-copy-button:active{transform:scale(0.95)}.debug-state .debug-state-label .debug-state-action-button,.debug-state .debug-state-label .debug-state-delete-button,.debug-state .debug-state-label .debug-state-copy-button{background:rgba(100,100,100,.8)}.debug-state .debug-state-label .debug-state-copy-button:hover{background:rgba(34,166,120,.8)}.debug-state .debug-state-label .debug-state-delete-button:hover{background:rgba(198,62,41,.8)}.debug-state .json-wrapper{position:relative;padding:5px;background:#292929;max-height:400px;overflow-y:auto;overscroll-behavior:contain}.debug-state.collapsed .debug-state-label{border-radius:4px}.debug-state.collapsed .json-wrapper{display:none}\";\nif (typeof document !== 'undefined') {\n  const style = document.createElement('style');\n  style.textContent = css;\n  document.head.appendChild(style);\n}\nexport default css;\n","\nconst css = \".json-node{position:relative;margin-left:14px;padding-left:0;font-size:12px;line-height:1.2em}.json-node .json-properties{display:flex;flex-direction:column}.json-node .json-property{position:relative;display:flex;align-items:flex-start;padding:0}.json-node .json-property.object{flex-direction:column}.json-node .json-key{font-weight:bold;margin-right:5px;color:#9cdcfe;padding:2px 0;flex:0}.json-node .json-key.clickable{cursor:pointer;width:100%}.json-node .json-key.clickable:hover{color:#4fc3f7;text-decoration:underline}.json-node .json-key.clickable+.json-value{width:100%}.json-node .json-value{color:#ce9178;white-space:pre-wrap;padding:2px 0;flex:1}.json-node .json-toggle{position:absolute;top:-1px;left:-20px;border:none;background:none;cursor:pointer;color:#888;font-size:10px;padding:0;width:24px;height:20px;transition:color .1s}.json-node .json-toggle:hover{color:#fff}.json-node .json-toggle:focus{outline:none}.json-node.collapsed .json-properties{display:none}\";\nif (typeof document !== 'undefined') {\n  const style = document.createElement('style');\n  style.textContent = css;\n  document.head.appendChild(style);\n}\nexport default css;\n","import EventBus from 'eventbusjs';\nimport safeStringify from 'fast-safe-stringify';\nimport { COLLAPSED_INDICATOR, EXPANDED_INDICATOR } from '../constants';\nimport { JsonView } from '../JsonView/JsonView';\nimport { getWindowSize, makeDraggable, makeResizable } from '../utils/domUtils';\n\nconst DEBUG_STATE_NAMESPACE = 'objects';\n\nexport enum ScreenPosition {\n\tTopLeft = 'topLeft',\n\tTop = 'top',\n\tTopRight = 'topRight',\n\tRight = 'right',\n\tBottomRight = 'bottomRight',\n\tBottom = 'bottom',\n\tBottomLeft = 'bottomLeft',\n\tLeft = 'left'\n}\n\nconst MIN_WIDTH = 280;\n\ntype LogEntry = {\n\tid: string;\n\tmessage: Array<any> | object | string;\n\ttimestamp: Date;\n};\n\ntype LogEvent = {\n\tnamespace: string;\n\targs: Array<any>;\n};\n\ninterface TabEntries {\n\t[namespace: string]: LogEntry[];\n}\n\ninterface DebugState {\n\tstate: any;\n\tjsonView: JsonView;\n\tisExpanded: boolean;\n}\n\nexport interface DebugPanelSettings {\n\tleft: number;\n\ttop: number;\n\twidth: number;\n\theight: number;\n\tvisible: boolean;\n\topacity: number;\n\tsnappedTo?: 'left' | 'right' | 'top' | 'bottom' | 'topLeft' | 'topRight' | 'bottomLeft' | 'bottomRight' | null;\n\tisStretched?: boolean;\n\tlayoutMode?: 'row' | 'column';\n\tlogToConsole?: boolean;\n\tclearOnHide?: boolean;\n\texpandByDefault?: boolean;\n}\n\nexport interface DebugPanelOptions {\n\tshow?: boolean;\n\tposition?: ScreenPosition;\n\twidth?: number;\n\theight?: number;\n\tsnap?: boolean;\n\tsnapPadding?: number;\n\tlogToConsole?: boolean;\n\tclearOnHide?: boolean;\n\texpandByDefault?: boolean;\n}\n\n/*\nDebugPanel usage API:\n\ndebug(obj), debug(id, obj)\nlog(...args)\nshow()\nhide()\ntoggle()\n\n*/\n\nexport class DebugPanel {\n\tprivate container: HTMLElement;\n\tprivate tabContainer: HTMLElement;\n\tprivate contentContainer: HTMLElement;\n\tprivate toolbar: HTMLElement;\n\tprivate settingsPanel!: HTMLElement;\n\tprivate opacitySlider!: HTMLInputElement;\n\tprivate logToConsoleCheckbox!: HTMLInputElement;\n\tprivate clearOnHideCheckbox!: HTMLInputElement;\n\tprivate expandByDefaultCheckbox!: HTMLInputElement;\n\tprivate collapseAllButton!: HTMLButtonElement;\n\tprivate stretchButton!: HTMLButtonElement;\n\tprivate layoutButton!: HTMLButtonElement;\n\tprivate tabEntries: TabEntries = {};\n\tprivate debugStates: { [id: string]: DebugState } = {};\n\tprivate activeTab: string = 'global';\n\tprivate options: DebugPanelOptions;\n\tprivate resizeThrottleTimer: number | null = null;\n\tprivate snappedTo: 'left' | 'right' | 'top' | 'bottom' | 'topLeft' | 'topRight' | 'bottomLeft' | 'bottomRight' | null = null;\n\tprivate isStretched: boolean = false;\n\tprivate layoutMode: 'row' | 'column' = 'row';\n\tprivate logToConsole: boolean = false;\n\tprivate clearOnHide: boolean = false;\n\tprivate expandByDefault: boolean = false;\n\n\tconstructor(options: DebugPanelOptions = {}) {\n\t\tthis.options = {\n\t\t\tposition: ScreenPosition.BottomRight,\n\t\t\twidth: 600,\n\t\t\theight: 400,\n\t\t\tsnap: true,\n\t\t\tsnapPadding: 20,\n\t\t\tlogToConsole: false,\n\t\t\tclearOnHide: false,\n\t\t\texpandByDefault: false,\n\t\t\t...options\n\t\t};\n\n\t\tthis.logToConsole = this.options.logToConsole || false;\n\t\tthis.clearOnHide = this.options.clearOnHide || false;\n\t\tthis.expandByDefault = this.options.expandByDefault || false;\n\n\t\tthis.container = this.createContainer();\n\t\tthis.tabContainer = this.createTabContainer();\n\t\tthis.contentContainer = this.createContentContainer();\n\n\t\tthis.container.appendChild(this.tabContainer);\n\t\tthis.container.appendChild(this.contentContainer);\n\n\t\tthis.toolbar = this.createGlobalToolbar();\n\t\tthis.container.appendChild(this.toolbar);\n\n\t\tdocument.body.appendChild(this.container);\n\n\t\tthis.addTab(DEBUG_STATE_NAMESPACE);\n\t\tthis.addTab('global');\n\n\t\t// Restore settings first (including visibility) before setting up interactions\n\t\tthis.restoreSettings();\n\t\tthis.setupResizable();\n\t\tthis.setupDraggable();\n\t\tthis.setupEventListeners();\n\t\tthis.setupKeyboardShortcut();\n\t\tthis.setupWindowResizeListener();\n\n\t\t// Only show if explicitly requested in options AND no saved settings exist\n\t\tif (options.show && !this.loadSettings()) {\n\t\t\tthis.show();\n\t\t}\n\t}\n\n\tprivate createContainer(): HTMLElement {\n\t\tconst container = document.createElement('div');\n\t\tcontainer.classList.add('debug-panel');\n\t\tcontainer.style.width = `${this.options.width}px`;\n\t\tcontainer.style.height = `${this.options.height}px`;\n\t\tcontainer.style.position = 'fixed';\n\t\tcontainer.style.opacity = '1'; // Set default opacity\n\t\treturn container;\n\t}\n\n\tprivate createTabContainer(): HTMLElement {\n\t\tconst tabContainer = document.createElement('div');\n\t\ttabContainer.classList.add('debug-panel-tabs');\n\n\t\t// Add double-click handler for stretch\n\t\ttabContainer.addEventListener('dblclick', () => {\n\t\t\tthis.toggleStretch();\n\t\t});\n\n\t\treturn tabContainer;\n\t}\n\n\tprivate createContentContainer(): HTMLElement {\n\t\tconst contentContainer = document.createElement('div');\n\t\tcontentContainer.classList.add('debug-panel-content');\n\t\treturn contentContainer;\n\t}\n\n\tprivate createGlobalToolbar(): HTMLElement {\n\t\tconst toolbar = document.createElement('div');\n\t\ttoolbar.classList.add('debug-toolbar');\n\n\t\t// Help button\n\t\tconst helpButton = document.createElement('button');\n\t\thelpButton.classList.add('debug-icon-button');\n\t\thelpButton.innerHTML = '?';\n\t\thelpButton.title = 'Help & Info';\n\t\thelpButton.onclick = () => this.showHelpOverlay();\n\n\t\t// Hide button\n\t\tconst hideButton = document.createElement('button');\n\t\thideButton.classList.add('debug-hide-button');\n\t\thideButton.textContent = 'Hide';\n\t\thideButton.title = 'Hide panel (Ctrl+Alt+D)';\n\t\thideButton.onclick = () => this.hide();\n\n\t\t// Clear button\n\t\tconst clearButton = document.createElement('button');\n\t\tclearButton.classList.add('debug-clear-button');\n\t\tclearButton.textContent = 'Clear';\n\t\tclearButton.title = 'Clear current tab';\n\t\tclearButton.onclick = () => this.clearCurrentTab();\n\n\t\t// Collapse/Expand All button\n\t\tthis.collapseAllButton = document.createElement('button');\n\t\tthis.collapseAllButton.classList.add('debug-icon-button');\n\t\tthis.collapseAllButton.innerHTML = '{ }';\n\t\tthis.updateCollapseAllTooltip();\n\t\tthis.collapseAllButton.onclick = () => this.toggleExpandAll();\n\n\t\t// Stretch button\n\t\tthis.stretchButton = document.createElement('button');\n\t\tthis.stretchButton.classList.add('debug-icon-button');\n\t\tthis.updateStretchButton();\n\t\tthis.stretchButton.onclick = () => this.toggleStretch();\n\n\t\t// Layout mode button\n\t\tthis.layoutButton = document.createElement('button');\n\t\tthis.layoutButton.classList.add('debug-icon-button');\n\t\tthis.layoutButton.innerHTML = '⚏';\n\t\tthis.updateLayoutButtonTooltip();\n\t\tthis.layoutButton.onclick = () => this.toggleLayoutMode();\n\n\t\t// Settings (cog) button\n\t\tconst settingsButton = document.createElement('button');\n\t\tsettingsButton.classList.add('debug-icon-button');\n\t\tsettingsButton.innerHTML = '⚙';\n\t\tsettingsButton.title = 'Settings';\n\n\t\t// Create settings panel\n\t\tthis.settingsPanel = this.createSettingsPanel();\n\n\t\t// Toggle settings panel on click\n\t\tsettingsButton.onclick = (e) => {\n\t\t\te.stopPropagation();\n\t\t\tthis.settingsPanel.classList.toggle('visible');\n\t\t};\n\n\t\t// Hide settings panel when clicking outside\n\t\tdocument.addEventListener('click', (e) => {\n\t\t\tif (!this.settingsPanel.contains(e.target as Node) &&\n\t\t\t\t!settingsButton.contains(e.target as Node)) {\n\t\t\t\tthis.settingsPanel.classList.remove('visible');\n\t\t\t}\n\t\t});\n\n\t\t// Left side buttons\n\t\ttoolbar.appendChild(helpButton);\n\t\ttoolbar.appendChild(hideButton);\n\t\ttoolbar.appendChild(clearButton);\n\n\t\t// Spacer\n\t\tconst spacer = document.createElement('div');\n\t\tspacer.style.flex = '1';\n\t\ttoolbar.appendChild(spacer);\n\n\t\t// Right side buttons\n\t\ttoolbar.appendChild(this.collapseAllButton);\n\t\ttoolbar.appendChild(this.stretchButton);\n\t\ttoolbar.appendChild(this.layoutButton);\n\t\ttoolbar.appendChild(settingsButton);\n\t\ttoolbar.appendChild(this.settingsPanel);\n\n\t\treturn toolbar;\n\t}\n\n\tprivate updateCollapseAllTooltip(): void {\n\t\tconst allExpanded = Object.values(this.debugStates).every(state => state.isExpanded);\n\t\tthis.collapseAllButton.title = allExpanded ? 'Collapse all objects' : 'Expand all objects';\n\t}\n\n\tprivate updateStretchButton(): void {\n\t\t// Determine icon based on snap direction\n\t\tlet icon = '↔';  // Default horizontal arrows\n\t\tif (this.snappedTo === 'left' || this.snappedTo === 'right' ||\n\t\t\tthis.snappedTo === 'topLeft' || this.snappedTo === 'topRight' ||\n\t\t\tthis.snappedTo === 'bottomLeft' || this.snappedTo === 'bottomRight') {\n\t\t\ticon = '⇵';  // Vertical arrows for left/right/corner snaps\n\t\t}\n\n\t\tthis.stretchButton.innerHTML = icon;\n\t\tthis.stretchButton.title = this.isStretched ? 'Unstretch panel' : 'Stretch panel';\n\t}\n\n\tprivate updateLayoutButtonTooltip(): void {\n\t\tthis.layoutButton.title = this.layoutMode === 'row'\n\t\t\t? 'Switch to column layout'\n\t\t\t: 'Switch to row layout';\n\t}\n\n\tprivate createSettingsPanel(): HTMLElement {\n\t\tconst panel = document.createElement('div');\n\t\tpanel.classList.add('debug-settings-panel');\n\n\t\t// Opacity setting\n\t\tconst opacityRow = document.createElement('div');\n\t\topacityRow.classList.add('settings-row');\n\n\t\tconst opacityLabel = document.createElement('label');\n\t\topacityLabel.textContent = 'Opacity';\n\n\t\tthis.opacitySlider = document.createElement('input');\n\t\tthis.opacitySlider.type = 'range';\n\t\tthis.opacitySlider.min = '20';\n\t\tthis.opacitySlider.max = '100';\n\t\tthis.opacitySlider.value = '100';\n\t\tthis.opacitySlider.classList.add('debug-opacity-slider');\n\t\tthis.opacitySlider.oninput = () => this.handleOpacityChange();\n\n\t\topacityRow.appendChild(opacityLabel);\n\t\topacityRow.appendChild(this.opacitySlider);\n\n\t\t// Log to console checkbox\n\t\tconst logToConsoleRow = document.createElement('div');\n\t\tlogToConsoleRow.classList.add('settings-row');\n\n\t\tthis.logToConsoleCheckbox = document.createElement('input');\n\t\tthis.logToConsoleCheckbox.type = 'checkbox';\n\t\tthis.logToConsoleCheckbox.id = 'logToConsole';\n\t\tthis.logToConsoleCheckbox.checked = this.logToConsole;\n\t\tthis.logToConsoleCheckbox.onchange = () => {\n\t\t\tthis.logToConsole = this.logToConsoleCheckbox!.checked;\n\t\t\tthis.saveSettings();\n\t\t};\n\n\t\tconst logToConsoleLabel = document.createElement('label');\n\t\tlogToConsoleLabel.htmlFor = 'logToConsole';\n\t\tlogToConsoleLabel.textContent = 'Log to console';\n\n\t\tlogToConsoleRow.appendChild(this.logToConsoleCheckbox);\n\t\tlogToConsoleRow.appendChild(logToConsoleLabel);\n\n\t\t// Clear on hide checkbox\n\t\tconst clearOnHideRow = document.createElement('div');\n\t\tclearOnHideRow.classList.add('settings-row');\n\n\t\tthis.clearOnHideCheckbox = document.createElement('input');\n\t\tthis.clearOnHideCheckbox.type = 'checkbox';\n\t\tthis.clearOnHideCheckbox.id = 'clearOnHide';\n\t\tthis.clearOnHideCheckbox.checked = this.clearOnHide;\n\t\tthis.clearOnHideCheckbox.onchange = () => {\n\t\t\tthis.clearOnHide = this.clearOnHideCheckbox!.checked;\n\t\t\tthis.saveSettings();\n\t\t};\n\n\t\tconst clearOnHideLabel = document.createElement('label');\n\t\tclearOnHideLabel.htmlFor = 'clearOnHide';\n\t\tclearOnHideLabel.textContent = 'Clear on hide';\n\n\t\tclearOnHideRow.appendChild(this.clearOnHideCheckbox);\n\t\tclearOnHideRow.appendChild(clearOnHideLabel);\n\n\t\t// Expand by default checkbox\n\t\tconst expandByDefaultRow = document.createElement('div');\n\t\texpandByDefaultRow.classList.add('settings-row');\n\n\t\tthis.expandByDefaultCheckbox = document.createElement('input');\n\t\tthis.expandByDefaultCheckbox.type = 'checkbox';\n\t\tthis.expandByDefaultCheckbox.id = 'expandByDefault';\n\t\tthis.expandByDefaultCheckbox.checked = this.expandByDefault;\n\t\tthis.expandByDefaultCheckbox.onchange = () => {\n\t\t\tthis.expandByDefault = this.expandByDefaultCheckbox!.checked;\n\t\t\tthis.saveSettings();\n\t\t};\n\n\t\tconst expandByDefaultLabel = document.createElement('label');\n\t\texpandByDefaultLabel.htmlFor = 'expandByDefault';\n\t\texpandByDefaultLabel.textContent = 'Expand new objects by default';\n\n\t\texpandByDefaultRow.appendChild(this.expandByDefaultCheckbox);\n\t\texpandByDefaultRow.appendChild(expandByDefaultLabel);\n\n\t\tpanel.appendChild(opacityRow);\n\t\tpanel.appendChild(logToConsoleRow);\n\t\tpanel.appendChild(clearOnHideRow);\n\t\tpanel.appendChild(expandByDefaultRow);\n\n\t\treturn panel;\n\t}\n\n\tprivate setupEventListeners(): void {\n\t\tEventBus.addEventListener('log', (event: any) => {\n\t\t\tconst { namespace, message } = event.target;\n\t\t\tthis.log(namespace, message);\n\t\t});\n\n\t\t// special listener for sending objects to the objects panel\n\t\t// todo:\n\t\tEventBus.addEventListener('debug', (event: any) => {\n\t\t\tconst { id, state } = event.target;\n\t\t\t// if (!id || !state) {\n\t\t\t// \tconsole.log('Invalid event data for debug-state. Expected {id, state}, got:', event);\n\t\t\t// \treturn;\n\t\t\t// }\n\t\t\tthis.debug(id, state);\n\t\t});\n\t}\n\n\tprivate setupResizable(): void {\n\t\tconst { width, height } = getWindowSize();\n\n\t\tmakeResizable(this.container, {\n\t\t\thandles: ['top', 'left', 'right', 'bottom', 'top-left', 'top-right', 'bottom-left', 'bottom-right'],\n\t\t\tmaxWidth: width - 20,\n\t\t\tmaxHeight: height - 20,\n\t\t\tminWidth: 200,\n\t\t\tminHeight: 150,\n\t\t\tsnapPadding: this.options.snapPadding || 20,\n\t\t\tonResize: (newWidth: number) => {\n\t\t\t\tthis.updateToolbarLayout(newWidth);\n\t\t\t\tthis.saveSettings();\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate setupDraggable(): void {\n\t\tif (this.options.snap) {\n\t\t\tmakeDraggable(this.container, this.tabContainer, {\n\t\t\t\tonDrag: (x: number, y: number) => this.handleSnapWhileDragging(x, y),\n\t\t\t\tonDragEnd: () => this.saveSettings()\n\t\t\t});\n\t\t} else {\n\t\t\tmakeDraggable(this.container, this.tabContainer, {\n\t\t\t\tonDragEnd: () => this.saveSettings()\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate setupPosition(): void {\n\t\tconst { width, height } = getWindowSize();\n\t\tconst panelWidth = this.options.width || 600;\n\t\tconst panelHeight = this.options.height || 400;\n\n\t\tlet left = 0;\n\t\tlet top = 0;\n\n\t\tswitch (this.options.position) {\n\t\t\tcase ScreenPosition.TopLeft:\n\t\t\t\tleft = 0;\n\t\t\t\ttop = 0;\n\t\t\t\tbreak;\n\t\t\tcase ScreenPosition.Top:\n\t\t\t\tleft = (width - panelWidth) / 2;\n\t\t\t\ttop = 0;\n\t\t\t\tbreak;\n\t\t\tcase ScreenPosition.TopRight:\n\t\t\t\tleft = width - panelWidth;\n\t\t\t\ttop = 0;\n\t\t\t\tbreak;\n\t\t\tcase ScreenPosition.Right:\n\t\t\t\tleft = width - panelWidth;\n\t\t\t\ttop = (height - panelHeight) / 2;\n\t\t\t\tbreak;\n\t\t\tcase ScreenPosition.BottomRight:\n\t\t\t\tleft = width - panelWidth;\n\t\t\t\ttop = height - panelHeight;\n\t\t\t\tbreak;\n\t\t\tcase ScreenPosition.Bottom:\n\t\t\t\tleft = (width - panelWidth) / 2;\n\t\t\t\ttop = height - panelHeight;\n\t\t\t\tbreak;\n\t\t\tcase ScreenPosition.BottomLeft:\n\t\t\t\tleft = 0;\n\t\t\t\ttop = height - panelHeight;\n\t\t\t\tbreak;\n\t\t\tcase ScreenPosition.Left:\n\t\t\t\tleft = 0;\n\t\t\t\ttop = (height - panelHeight) / 2;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tthis.container.style.left = `${left}px`;\n\t\tthis.container.style.top = `${top}px`;\n\t}\n\n\tprivate setupKeyboardShortcut(): void {\n\t\tdocument.addEventListener('keydown', (event: KeyboardEvent) => {\n\t\t\t// Check for Ctrl+Alt+D (Windows/Linux) or Cmd+D (Mac)\n\t\t\tconst isCtrlAltD = event.ctrlKey && event.altKey && event.key.toLowerCase() === 'd' && !event.metaKey;\n\t\t\tconst isCmdD = event.metaKey && event.key.toLowerCase() === 'd' && !event.ctrlKey;\n\n\t\t\tif (isCtrlAltD || isCmdD) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tthis.toggle();\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate showHelpOverlay(): void {\n\t\t// Remove existing overlay if present\n\t\tconst existingOverlay = this.contentContainer.querySelector('.debug-help-overlay');\n\t\tif (existingOverlay) {\n\t\t\texistingOverlay.remove();\n\t\t\treturn;\n\t\t}\n\n\t\tconst overlay = document.createElement('div');\n\t\toverlay.classList.add('debug-help-overlay');\n\n\t\toverlay.innerHTML = `\n\t\t\t<div class=\"debug-help-content\">\n\t\t\t\t<h2>Dev Debug Panel</h2>\n\n\t\t\t\t<section class=\"help-section\">\n\t\t\t\t\t<h3>Keyboard Shortcuts</h3>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li><kbd>Ctrl+Alt+D</kbd> (Windows/Linux) or <kbd>Cmd+D</kbd> (Mac) - Toggle panel visibility</li>\n\t\t\t\t\t\t<li><kbd>Double-click</kbd> title bar - Stretch/unstretch panel</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</section>\n\n\t\t\t\t<section class=\"help-section\">\n\t\t\t\t\t<h3>Library Info</h3>\n\t\t\t\t\t<ul class=\"help-links\">\n\t\t\t\t\t\t<li>Version: <strong>1.1.1</strong></li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<a href=\"https://github.com/rw3iss/dev-debug-panel\" target=\"_blank\" rel=\"noopener\">\n\t\t\t\t\t\t\t\t<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"currentColor\">\n\t\t\t\t\t\t\t\t\t<path d=\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z\"/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\tGitHub Repository\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<a href=\"https://github.com/rw3iss/dev-debug-panel/issues\" target=\"_blank\" rel=\"noopener\">\n\t\t\t\t\t\t\t\tReport Issue / Feedback\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</section>\n\n\t\t\t\t<section class=\"help-section\">\n\t\t\t\t\t<h3>Author</h3>\n\t\t\t\t\t<ul class=\"help-links\">\n\t\t\t\t\t\t<li><strong>Ryan Weiss</strong></li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<a href=\"mailto:rw3iss@gmail.com\">rw3iss@gmail.com</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<a href=\"https://www.ryanweiss.net\" target=\"_blank\" rel=\"noopener\">www.ryanweiss.net</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<a href=\"https://www.buymeacoffee.com/ryanweiss\" target=\"_blank\" rel=\"noopener\">\n\t\t\t\t\t\t\t\t☕ Buy Me a Coffee\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</section>\n\n\t\t\t\t<p class=\"help-close-hint\">Click anywhere to close</p>\n\t\t\t</div>\n\t\t`;\n\n\t\t// Close on click anywhere\n\t\toverlay.addEventListener('click', () => {\n\t\t\toverlay.remove();\n\t\t});\n\n\t\tthis.contentContainer.appendChild(overlay);\n\t}\n\n\tprivate setupWindowResizeListener(): void {\n\t\twindow.addEventListener('resize', () => {\n\t\t\t// Throttle resize events to 50ms\n\t\t\tif (this.resizeThrottleTimer !== null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.resizeThrottleTimer = window.setTimeout(() => {\n\t\t\t\tthis.resizeThrottleTimer = null;\n\t\t\t\tthis.repositionOnWindowResize();\n\t\t\t}, 50);\n\t\t});\n\t}\n\n\tprivate repositionOnWindowResize(): void {\n\t\tconst { width: windowWidth, height: windowHeight } = getWindowSize();\n\t\tconst panelWidth = this.container.offsetWidth;\n\t\tconst panelHeight = this.container.offsetHeight;\n\n\t\tconst currentLeft = parseInt(this.container.style.left) || this.container.offsetLeft;\n\t\tconst currentTop = parseInt(this.container.style.top) || this.container.offsetTop;\n\n\t\t// Calculate distances to each edge\n\t\tconst distanceToLeft = currentLeft;\n\t\tconst distanceToRight = windowWidth - (currentLeft + panelWidth);\n\t\tconst distanceToTop = currentTop;\n\t\tconst distanceToBottom = windowHeight - (currentTop + panelHeight);\n\n\t\t// Determine which edges the panel was snapped to before resize\n\t\tconst snapThreshold = 50; // If within 50px of an edge, consider it \"snapped\"\n\t\tconst wasSnappedLeft = distanceToLeft < snapThreshold;\n\t\tconst wasSnappedRight = distanceToRight < snapThreshold;\n\t\tconst wasSnappedTop = distanceToTop < snapThreshold;\n\t\tconst wasSnappedBottom = distanceToBottom < snapThreshold;\n\n\t\tlet newLeft = currentLeft;\n\t\tlet newTop = currentTop;\n\n\t\t// Snap to the edge(s) the panel was closest to\n\t\tif (wasSnappedRight) {\n\t\t\t// Keep panel snapped to right edge\n\t\t\tnewLeft = windowWidth - panelWidth;\n\t\t} else if (wasSnappedLeft) {\n\t\t\t// Keep panel snapped to left edge\n\t\t\tnewLeft = 0;\n\t\t} else {\n\t\t\t// Not snapped horizontally, ensure it stays in bounds\n\t\t\tnewLeft = Math.max(0, Math.min(windowWidth - panelWidth, currentLeft));\n\t\t}\n\n\t\tif (wasSnappedBottom) {\n\t\t\t// Keep panel snapped to bottom edge\n\t\t\tnewTop = windowHeight - panelHeight;\n\t\t} else if (wasSnappedTop) {\n\t\t\t// Keep panel snapped to top edge\n\t\t\tnewTop = 0;\n\t\t} else {\n\t\t\t// Not snapped vertically, ensure it stays in bounds\n\t\t\tnewTop = Math.max(0, Math.min(windowHeight - panelHeight, currentTop));\n\t\t}\n\n\t\t// Final bounds check to ensure panel is fully visible\n\t\tnewLeft = Math.max(0, Math.min(windowWidth - panelWidth, newLeft));\n\t\tnewTop = Math.max(0, Math.min(windowHeight - panelHeight, newTop));\n\n\t\tthis.container.style.left = `${newLeft}px`;\n\t\tthis.container.style.top = `${newTop}px`;\n\n\t\tthis.saveSettings();\n\t}\n\n\t// Settings management\n\n\tprivate restoreSettings(): void {\n\t\tconst savedSettings = this.loadSettings();\n\n\t\tif (savedSettings) {\n\t\t\t// Restore saved position and size\n\t\t\tthis.container.style.left = `${savedSettings.left}px`;\n\t\t\tthis.container.style.top = `${savedSettings.top}px`;\n\t\t\tthis.container.style.width = `${savedSettings.width}px`;\n\t\t\tthis.container.style.height = `${savedSettings.height}px`;\n\n\t\t\t// Restore opacity\n\t\t\tconst opacity = savedSettings.opacity !== undefined ? savedSettings.opacity : 1;\n\t\t\tthis.container.style.opacity = String(opacity);\n\t\t\tif (this.opacitySlider) {\n\t\t\t\tthis.opacitySlider.value = String(Math.round(opacity * 100));\n\t\t\t}\n\n\t\t\t// Restore snap and stretch state\n\t\t\tif (savedSettings.snappedTo) {\n\t\t\t\tthis.snappedTo = savedSettings.snappedTo;\n\t\t\t\tif (savedSettings.isStretched) {\n\t\t\t\t\tthis.isStretched = true;\n\t\t\t\t\tthis.applyStretch();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Restore layout mode\n\t\t\tif (savedSettings.layoutMode) {\n\t\t\t\tthis.layoutMode = savedSettings.layoutMode;\n\t\t\t\tthis.applyLayoutMode();\n\t\t\t}\n\n\t\t\t// Restore boolean settings\n\t\t\tif (savedSettings.logToConsole !== undefined) {\n\t\t\t\tthis.logToConsole = savedSettings.logToConsole;\n\t\t\t\tif (this.logToConsoleCheckbox) {\n\t\t\t\t\tthis.logToConsoleCheckbox.checked = this.logToConsole;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (savedSettings.clearOnHide !== undefined) {\n\t\t\t\tthis.clearOnHide = savedSettings.clearOnHide;\n\t\t\t\tif (this.clearOnHideCheckbox) {\n\t\t\t\t\tthis.clearOnHideCheckbox.checked = this.clearOnHide;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (savedSettings.expandByDefault !== undefined) {\n\t\t\t\tthis.expandByDefault = savedSettings.expandByDefault;\n\t\t\t\tif (this.expandByDefaultCheckbox) {\n\t\t\t\t\tthis.expandByDefaultCheckbox.checked = this.expandByDefault;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Restore visibility state without triggering saveSettings\n\t\t\tif (savedSettings.visible) {\n\t\t\t\tthis.container.classList.add('visible');\n\t\t\t} else {\n\t\t\t\tthis.container.classList.remove('visible');\n\t\t\t}\n\t\t} else {\n\t\t\t// Use default position if no saved settings\n\t\t\tthis.setupPosition();\n\t\t\t// Don't set visibility - let the constructor handle it\n\t\t}\n\t}\n\n\tprivate loadSettings(): DebugPanelSettings | null {\n\t\ttry {\n\t\t\tconst settingsJson = localStorage.getItem('debugPanelSettings');\n\t\t\tif (settingsJson) {\n\t\t\t\treturn JSON.parse(settingsJson);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('Failed to load debug panel settings:', error);\n\t\t}\n\t\treturn null;\n\t}\n\n\tprivate saveSettings(): void {\n\t\ttry {\n\t\t\tconst opacity = parseFloat(this.container.style.opacity) || 1;\n\t\t\tconst settings: DebugPanelSettings = {\n\t\t\t\tleft: parseInt(this.container.style.left) || this.container.offsetLeft,\n\t\t\t\ttop: parseInt(this.container.style.top) || this.container.offsetTop,\n\t\t\t\twidth: this.container.offsetWidth,\n\t\t\t\theight: this.container.offsetHeight,\n\t\t\t\tvisible: this.container.classList.contains('visible'),\n\t\t\t\topacity: opacity,\n\t\t\t\tsnappedTo: this.snappedTo,\n\t\t\t\tisStretched: this.isStretched,\n\t\t\t\tlayoutMode: this.layoutMode,\n\t\t\t\tlogToConsole: this.logToConsole,\n\t\t\t\tclearOnHide: this.clearOnHide,\n\t\t\t\texpandByDefault: this.expandByDefault\n\t\t\t};\n\t\t\tlocalStorage.setItem('debugPanelSettings', JSON.stringify(settings));\n\t\t} catch (error) {\n\t\t\tconsole.error('Failed to save debug panel settings:', error);\n\t\t}\n\t}\n\n\t// Debug objects\n\n\t// Send any object to the DebugPanel for observation. Use a string id as first argument to label it.\n\tpublic debug(...args: any[]): void {\n\t\tif (args.length === 0) return;\n\n\t\t// Log to console if enabled\n\t\tif (this.logToConsole) {\n\t\t\tconsole.log(...args);\n\t\t}\n\n\t\tlet startIndex = 0;\n\t\tlet baseId: string | null = null;\n\n\t\t// Check if first argument is a string (used as ID)\n\t\tif (typeof args[0] === 'string' && args.length > 1) {\n\t\t\tbaseId = args[0];\n\t\t\tstartIndex = 1;\n\t\t}\n\n\t\t// Process each argument\n\t\tfor (let i = startIndex; i < args.length; i++) {\n\t\t\tconst value = args[i];\n\t\t\tlet id: string;\n\n\t\t\tif (baseId && args.length === 2) {\n\t\t\t\t// Single object with custom ID\n\t\t\t\tid = baseId;\n\t\t\t} else if (baseId) {\n\t\t\t\t// Multiple objects with base ID\n\t\t\t\tid = `${baseId}-${i - startIndex}`;\n\t\t\t} else {\n\t\t\t\t// Generate ID based on type\n\t\t\t\tconst typeId = this.generateTypeId(value);\n\t\t\t\tid = typeId;\n\t\t\t}\n\n\t\t\t// Handle the value\n\t\t\tif (this.debugStates[id]) {\n\t\t\t\tthis.updateDebugState(id, value);\n\t\t\t} else {\n\t\t\t\tthis.addDebugState(id, value);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate generateTypeId(value: any): string {\n\t\tconst type = Array.isArray(value) ? 'array' : typeof value;\n\n\t\t// Find next available index for this type\n\t\tlet index = 1;\n\t\twhile (this.debugStates[`${type}-${index}`]) {\n\t\t\tindex++;\n\t\t}\n\n\t\treturn `${type}-${index}`;\n\t}\n\n\tprivate updateDebugState(id: string, state: any): void {\n\t\tconst content = this.contentContainer.querySelector(`[data-namespace=\"${DEBUG_STATE_NAMESPACE}\"]`);\n\t\tif (!content) {\n\t\t\tconsole.error('No content for debug namespace.');\n\t\t\treturn;\n\t\t}\n\n\t\tconst debugWrapper: HTMLElement | null = content.querySelector(`#debug-state-${id}`);\n\t\tif (!debugWrapper) {\n\t\t\tconsole.error(`No debug state found for ${id}.`);\n\t\t\treturn;\n\t\t}\n\n\t\tconst jsonWrapper = debugWrapper.querySelector('.json-wrapper');\n\t\tif (!jsonWrapper) {\n\t\t\tconsole.error(`No json wrapper found for existing state ${id}`);\n\t\t\treturn;\n\t\t}\n\n\t\t// Clone the state to avoid reference issues when comparing\n\t\tconst clonedState = state ? JSON.parse(JSON.stringify(state)) : {}; // todo: handle undefined state better\n\n\t\t// Don't clear innerHTML - JsonView.updateJson needs the existing DOM to patch\n\t\tthis.debugStates[id].jsonView.updateJson(clonedState);\n\t\tthis.debugStates[id].state = clonedState;\n\t}\n\n\tprivate addDebugState(id: string, state: any): void {\n\t\tconst content = this.contentContainer.querySelector(`[data-namespace=\"${DEBUG_STATE_NAMESPACE}\"]`);\n\t\tif (!content) {\n\t\t\tconsole.error('No content for debug namespace.');\n\t\t\treturn;\n\t\t}\n\n\t\tconst debugWrapper = document.createElement('div');\n\t\tdebugWrapper.classList.add('debug-state');\n\t\tdebugWrapper.setAttribute('id', `debug-state-${id}`);\n\n\t\tconst toggleObjectOpen = () => {\n\t\t\tconst isExpanded = this.debugStates[id].isExpanded;\n\t\t\tthis.debugStates[id].isExpanded = !isExpanded;\n\t\t\tdebugWrapper.classList.toggle('collapsed', isExpanded);\n\t\t\ttoggleButton.textContent = isExpanded ? COLLAPSED_INDICATOR : EXPANDED_INDICATOR;\n\t\t}\n\n\t\tconst label = document.createElement('div');\n\t\tlabel.classList.add('debug-state-label');\n\n\t\tconst toggleButton = document.createElement('button');\n\t\ttoggleButton.classList.add('json-toggle');\n\t\ttoggleButton.textContent = EXPANDED_INDICATOR;\n\t\ttoggleButton.onclick = toggleObjectOpen;\n\t\tlabel.appendChild(toggleButton);\n\n\t\tconst labelText = document.createElement('span');\n\t\tlabelText.classList.add('debug-state-label-text');\n\t\tlabelText.innerText = id || 'untitled';\n\t\tlabelText.onclick = toggleObjectOpen;\n\t\tlabel.appendChild(labelText);\n\n\t\t// Add hover actions to label\n\t\tconst hoverActions = document.createElement('div');\n\t\thoverActions.classList.add('debug-state-hover-actions');\n\n\t\t// Copy button\n\t\tconst copyButton = document.createElement('button');\n\t\tcopyButton.classList.add('debug-state-action-button', 'debug-state-copy-button');\n\t\tcopyButton.innerHTML = '📋';\n\t\tcopyButton.title = 'Copy JSON to clipboard';\n\t\tcopyButton.onclick = (e) => {\n\t\t\te.stopPropagation();\n\t\t\tthis.copyDebugStateToClipboard(id, state, copyButton);\n\t\t};\n\t\thoverActions.appendChild(copyButton);\n\n\t\t// Delete button\n\t\tconst deleteButton = document.createElement('button');\n\t\tdeleteButton.classList.add('debug-state-action-button', 'debug-state-delete-button');\n\t\tdeleteButton.innerHTML = '🗑️';\n\t\tdeleteButton.title = 'Delete this object';\n\t\tdeleteButton.onclick = (e) => {\n\t\t\te.stopPropagation();\n\t\t\tthis.removeDebugState(id);\n\t\t};\n\t\thoverActions.appendChild(deleteButton);\n\n\t\tlabel.appendChild(hoverActions);\n\n\t\tdebugWrapper.appendChild(label);\n\n\t\tconst jsonWrapper = document.createElement('div');\n\t\tjsonWrapper.classList.add('json-wrapper');\n\t\tdebugWrapper.appendChild(jsonWrapper);\n\n\t\t// Handle primitives\n\t\tconst isPrimitive = state === null || state === undefined ||\n\t\t\ttypeof state === 'string' || typeof state === 'number' ||\n\t\t\ttypeof state === 'boolean';\n\n\t\tlet jsonView: JsonView;\n\t\tlet clonedState: any;\n\n\t\tif (isPrimitive) {\n\t\t\t// Display primitive value directly\n\t\t\tconst valueDiv = document.createElement('div');\n\t\t\tvalueDiv.style.padding = '8px';\n\t\t\tvalueDiv.style.color = '#ce9178';\n\t\t\tvalueDiv.textContent = String(state);\n\t\t\tjsonWrapper.appendChild(valueDiv);\n\n\t\t\t// Create a dummy JsonView for consistency\n\t\t\tclonedState = { value: state };\n\t\t\tjsonView = new JsonView(clonedState, document.createElement('div'), {\n\t\t\t\texpandAll: this.expandByDefault\n\t\t\t});\n\t\t} else {\n\t\t\t// Clone the state to avoid reference issues\n\t\t\tclonedState = state ? JSON.parse(JSON.stringify(state)) : {};\n\n\t\t\t// Create JsonView for objects/arrays\n\t\t\tjsonView = new JsonView(clonedState, jsonWrapper as HTMLElement, {\n\t\t\t\texpandAll: this.expandByDefault\n\t\t\t});\n\t\t}\n\n\t\tthis.debugStates[id] = {\n\t\t\tstate: clonedState,\n\t\t\tjsonView,\n\t\t\tisExpanded: true\n\t\t};\n\n\t\tcontent.appendChild(debugWrapper);\n\t}\n\n\tprivate copyDebugStateToClipboard(id: string, state: any, button: HTMLElement): void {\n\t\ttry {\n\t\t\tconst jsonString = JSON.stringify(state, null, 2);\n\t\t\tnavigator.clipboard.writeText(jsonString).then(() => {\n\t\t\t\t// Change icon to checkmark\n\t\t\t\tconst originalContent = button.innerHTML;\n\t\t\t\tbutton.innerHTML = '✓';\n\t\t\t\tbutton.style.background = 'rgba(40, 167, 69, 0.8)';\n\n\t\t\t\t// Revert after 2 seconds\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tbutton.innerHTML = originalContent;\n\t\t\t\t\tbutton.style.background = '';\n\t\t\t\t}, 2000);\n\t\t\t}).catch((err) => {\n\t\t\t\tconsole.error('Failed to copy to clipboard:', err);\n\t\t\t});\n\t\t} catch (error) {\n\t\t\tconsole.error('Failed to stringify state:', error);\n\t\t}\n\t}\n\n\tprivate removeDebugState(id: string): void {\n\t\tconst debugWrapper = document.getElementById(`debug-state-${id}`);\n\t\tif (debugWrapper) {\n\t\t\tdebugWrapper.remove();\n\t\t}\n\t\tdelete this.debugStates[id];\n\t}\n\n\t// Tab controls\n\n\tprivate addTab(namespace: string): void {\n\t\tif (this.tabEntries[namespace]) return;\n\n\t\tthis.tabEntries[namespace] = [];\n\n\t\tconst tab = document.createElement('button');\n\t\ttab.classList.add('debug-tab');\n\t\ttab.textContent = namespace;\n\t\ttab.onclick = () => this.switchTab(namespace);\n\t\tthis.tabContainer.appendChild(tab);\n\n\t\tconst content = document.createElement('div');\n\t\tcontent.classList.add('debug-tab-content');\n\t\tcontent.dataset.namespace = namespace;\n\t\tthis.contentContainer.appendChild(content);\n\n\t\tif (Object.keys(this.tabEntries).length === 1) {\n\t\t\tthis.switchTab(namespace);\n\t\t}\n\t}\n\n\tprivate clearCurrentTab(): void {\n\t\tthis.clearTab(this.activeTab);\n\t}\n\n\tprivate clearTab(namespace: string): void {\n\t\tconst content = this.contentContainer.querySelector(`[data-namespace=\"${namespace}\"]`);\n\t\tif (!content) return;\n\n\t\t// Clear the data\n\t\tthis.tabEntries[namespace] = [];\n\n\t\tif (namespace === DEBUG_STATE_NAMESPACE) {\n\t\t\t// Clear debug states\n\t\t\tObject.keys(this.debugStates).forEach((key) => {\n\t\t\t\tdelete this.debugStates[key];\n\t\t\t});\n\t\t}\n\n\t\t// Remove all children from content\n\t\tcontent.innerHTML = '';\n\t}\n\n\tprivate switchTab(namespace: string): void {\n\t\tthis.activeTab = namespace;\n\n\t\t// Update tab buttons\n\t\tthis.tabContainer.querySelectorAll('.debug-tab').forEach((tab, index) => {\n\t\t\tconst tabNamespace = Object.keys(this.tabEntries)[index];\n\t\t\ttab.classList.toggle('active', tabNamespace === namespace);\n\t\t});\n\n\t\t// Update content visibility\n\t\tthis.contentContainer.querySelectorAll('.debug-tab-content').forEach((el) => {\n\t\t\t(el as HTMLElement).style.display = 'none';\n\t\t});\n\n\t\tconst activeContent = this.contentContainer.querySelector(`[data-namespace=\"${namespace}\"]`) as HTMLElement;\n\t\tif (activeContent) {\n\t\t\tactiveContent.style.display = activeContent.classList.contains('layout-columns') ? 'flex' : 'block';;\n\t\t}\n\t}\n\n\t// Log controls\n\n\tpublic log(namespace: string, message: Array<any> | object | string): void {\n\t\tif (!this.tabEntries[namespace]) {\n\t\t\tthis.addTab(namespace);\n\t\t}\n\n\t\tconst logEntry: LogEntry = {\n\t\t\tid: `${namespace}-${Date.now()}-${Math.random()}`,\n\t\t\tmessage,\n\t\t\ttimestamp: new Date()\n\t\t};\n\t\tthis.tabEntries[namespace].push(logEntry);\n\n\t\tconst content = this.contentContainer.querySelector(`[data-namespace=\"${namespace}\"]`);\n\t\tif (!content) return;\n\n\t\tconst logElement = this.createLogElement(logEntry, namespace);\n\t\tcontent.appendChild(logElement);\n\n\t\t// Add to global tab if not already global\n\t\tif (namespace !== 'global') {\n\t\t\tthis.log('global', message);\n\t\t}\n\t}\n\n\tprivate createLogElement(logEntry: LogEntry, namespace: string): HTMLElement {\n\t\tconst logElement = document.createElement('div');\n\t\tlogElement.classList.add('debug-log-entry');\n\t\tlogElement.dataset.logId = logEntry.id;\n\n\t\tconst logText = document.createElement('div');\n\t\tlogText.innerText = `[${logEntry.timestamp.toLocaleTimeString()}] ${this.renderLogEntry(logEntry.message)}`;\n\t\tlogText.classList.add('debug-log-entry-text');\n\n\t\tconst copyButton = document.createElement('button');\n\t\tcopyButton.innerText = '📋';\n\t\tcopyButton.classList.add('debug-copy-button');\n\t\tcopyButton.onclick = () => navigator.clipboard.writeText(logText.innerText);\n\n\t\tconst deleteButton = document.createElement('button');\n\t\tdeleteButton.innerText = '❌';\n\t\tdeleteButton.classList.add('debug-delete-button');\n\t\tdeleteButton.onclick = () => this.removeLogEntry(namespace, logEntry.id, logElement);\n\n\t\tlogElement.appendChild(logText);\n\t\tlogElement.appendChild(copyButton);\n\t\tlogElement.appendChild(deleteButton);\n\n\t\treturn logElement;\n\t}\n\n\tprivate removeLogEntry(namespace: string, logId: string, logElement: HTMLElement): void {\n\t\tthis.tabEntries[namespace] = this.tabEntries[namespace].filter((entry) => entry.id !== logId);\n\t\tlogElement.remove();\n\t}\n\n\tprivate renderLogEntry(message: any): string {\n\t\tif (Array.isArray(message)) {\n\t\t\treturn message.join(' ');\n\t\t}\n\t\tif (typeof message === 'object') {\n\t\t\treturn safeStringify(message);\n\t\t}\n\t\treturn String(message);\n\t}\n\n\t// Misc UI helpers\n\n\tprivate updateToolbarLayout(width: number): void {\n\t\t// Toggle narrow-panel class based on width\n\t\tif (width < MIN_WIDTH) {\n\t\t\tthis.container.classList.add('narrow-panel');\n\t\t} else {\n\t\t\tthis.container.classList.remove('narrow-panel');\n\t\t}\n\t}\n\n\tprivate handleOpacityChange(): void {\n\t\tconst opacityPercent = parseInt(this.opacitySlider.value);\n\t\tconst opacity = opacityPercent / 100;\n\n\t\t// Only set opacity when visible\n\t\tif (this.container.classList.contains('visible')) {\n\t\t\tthis.container.style.opacity = String(opacity);\n\t\t}\n\n\t\tthis.saveSettings();\n\t}\n\n\tprivate handleSnapWhileDragging(x: number, y: number): { x: number; y: number } {\n\t\tconst snapPadding = this.options.snapPadding || 20;\n\t\tconst { width: windowWidth, height: windowHeight } = getWindowSize();\n\t\tconst panelWidth = this.container.offsetWidth;\n\t\tconst panelHeight = this.container.offsetHeight;\n\n\t\tlet snappedX = x;\n\t\tlet snappedY = y;\n\t\tlet newSnappedTo: 'left' | 'right' | 'top' | 'bottom' | 'topLeft' | 'topRight' | 'bottomLeft' | 'bottomRight' | null = null;\n\n\t\tconst snappedLeft = x < snapPadding;\n\t\tconst snappedRight = x + panelWidth > windowWidth - snapPadding;\n\t\tconst snappedTop = y < snapPadding;\n\t\tconst snappedBottom = y + panelHeight > windowHeight - snapPadding;\n\n\t\t// Determine snap position\n\t\tif (snappedLeft && snappedTop) {\n\t\t\tsnappedX = 0;\n\t\t\tsnappedY = 0;\n\t\t\tnewSnappedTo = 'topLeft';\n\t\t} else if (snappedRight && snappedTop) {\n\t\t\tsnappedX = windowWidth - panelWidth;\n\t\t\tsnappedY = 0;\n\t\t\tnewSnappedTo = 'topRight';\n\t\t} else if (snappedLeft && snappedBottom) {\n\t\t\tsnappedX = 0;\n\t\t\tsnappedY = windowHeight - panelHeight;\n\t\t\tnewSnappedTo = 'bottomLeft';\n\t\t} else if (snappedRight && snappedBottom) {\n\t\t\tsnappedX = windowWidth - panelWidth;\n\t\t\tsnappedY = windowHeight - panelHeight;\n\t\t\tnewSnappedTo = 'bottomRight';\n\t\t} else if (snappedLeft) {\n\t\t\tsnappedX = 0;\n\t\t\tnewSnappedTo = 'left';\n\t\t} else if (snappedRight) {\n\t\t\tsnappedX = windowWidth - panelWidth;\n\t\t\tnewSnappedTo = 'right';\n\t\t} else if (snappedTop) {\n\t\t\tsnappedY = 0;\n\t\t\tnewSnappedTo = 'top';\n\t\t} else if (snappedBottom) {\n\t\t\tsnappedY = windowHeight - panelHeight;\n\t\t\tnewSnappedTo = 'bottom';\n\t\t}\n\n\t\t// Update snapped position if changed\n\t\tif (newSnappedTo !== this.snappedTo) {\n\t\t\tthis.snappedTo = newSnappedTo;\n\n\t\t\t// Update stretch button icon\n\t\t\tthis.updateStretchButton();\n\n\t\t\t// If stretch is enabled, apply stretch to new snap position\n\t\t\tif (this.isStretched && newSnappedTo) {\n\t\t\t\tsetTimeout(() => this.applyStretch(), 0);\n\t\t\t}\n\t\t}\n\n\t\t// Return the snapped coordinates\n\t\treturn { x: snappedX, y: snappedY };\n\t}\n\n\t// Toggle Methods\n\n\tprivate toggleExpandAll(): void {\n\t\tconst allExpanded = Object.values(this.debugStates).every(state => state.isExpanded);\n\n\t\tObject.keys(this.debugStates).forEach(id => {\n\t\t\tconst debugWrapper = document.getElementById(`debug-state-${id}`);\n\t\t\tif (!debugWrapper) return;\n\n\t\t\tthis.debugStates[id].isExpanded = !allExpanded;\n\t\t\tdebugWrapper.classList.toggle('collapsed', allExpanded);\n\n\t\t\tconst toggleButton = debugWrapper.querySelector('.json-toggle') as HTMLElement;\n\t\t\tif (toggleButton) {\n\t\t\t\ttoggleButton.textContent = allExpanded ? COLLAPSED_INDICATOR : EXPANDED_INDICATOR;\n\t\t\t}\n\t\t});\n\n\t\tthis.updateCollapseAllTooltip();\n\t}\n\n\tprivate toggleStretch(): void {\n\t\t// If not snapped, snap to closest edge first\n\t\tif (!this.snappedTo) {\n\t\t\tconst { width: windowWidth, height: windowHeight } = getWindowSize();\n\t\t\tconst panelRect = this.container.getBoundingClientRect();\n\t\t\tconst panelCenterX = panelRect.left + panelRect.width / 2;\n\t\t\tconst panelCenterY = panelRect.top + panelRect.height / 2;\n\n\t\t\tconst distToLeft = panelCenterX;\n\t\t\tconst distToRight = windowWidth - panelCenterX;\n\t\t\tconst distToTop = panelCenterY;\n\t\t\tconst distToBottom = windowHeight - panelCenterY;\n\n\t\t\tconst minDist = Math.min(distToLeft, distToRight, distToTop, distToBottom);\n\n\t\t\tif (minDist === distToLeft) {\n\t\t\t\tthis.snappedTo = 'left';\n\t\t\t\tthis.container.style.left = '0px';\n\t\t\t} else if (minDist === distToRight) {\n\t\t\t\tthis.snappedTo = 'right';\n\t\t\t\tthis.container.style.left = `${windowWidth - panelRect.width}px`;\n\t\t\t} else if (minDist === distToTop) {\n\t\t\t\tthis.snappedTo = 'top';\n\t\t\t\tthis.container.style.top = '0px';\n\t\t\t} else {\n\t\t\t\tthis.snappedTo = 'bottom';\n\t\t\t\tthis.container.style.top = `${windowHeight - panelRect.height}px`;\n\t\t\t}\n\t\t}\n\n\t\tthis.isStretched = !this.isStretched;\n\n\t\tif (this.isStretched) {\n\t\t\tthis.applyStretch();\n\t\t} else {\n\t\t\t// Return to 50% of viewport and center on the snapped edge\n\t\t\tconst { width: windowWidth, height: windowHeight } = getWindowSize();\n\n\t\t\tif (this.snappedTo === 'left' || this.snappedTo === 'right') {\n\t\t\t\t// Was stretched vertically, shrink to 50% height and center vertically\n\t\t\t\tconst newHeight = windowHeight * 0.5;\n\t\t\t\tthis.container.style.height = `${newHeight}px`;\n\t\t\t\tthis.container.style.top = `${(windowHeight - newHeight) / 2}px`;\n\t\t\t} else if (this.snappedTo === 'top' || this.snappedTo === 'bottom') {\n\t\t\t\t// Was stretched horizontally, shrink to 50% width and center horizontally\n\t\t\t\tconst newWidth = windowWidth * 0.5;\n\t\t\t\tthis.container.style.width = `${newWidth}px`;\n\t\t\t\tthis.container.style.left = `${(windowWidth - newWidth) / 2}px`;\n\t\t\t} else if (this.snappedTo) {\n\t\t\t\t// Corner snap - shrink to 50% in both dimensions\n\t\t\t\tconst newHeight = windowHeight * 0.5;\n\t\t\t\tconst newWidth = windowWidth * 0.5;\n\t\t\t\tthis.container.style.height = `${newHeight}px`;\n\t\t\t\tthis.container.style.width = `${newWidth}px`;\n\n\t\t\t\tif (this.snappedTo.includes('top')) {\n\t\t\t\t\tthis.container.style.top = `${(windowHeight - newHeight) / 2}px`;\n\t\t\t\t} else {\n\t\t\t\t\tthis.container.style.top = `${(windowHeight - newHeight) / 2}px`;\n\t\t\t\t}\n\n\t\t\t\tif (this.snappedTo.includes('Left')) {\n\t\t\t\t\tthis.container.style.left = `${(windowWidth - newWidth) / 2}px`;\n\t\t\t\t} else {\n\t\t\t\t\tthis.container.style.left = `${(windowWidth - newWidth) / 2}px`;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.updateStretchButton();\n\t\tthis.saveSettings();\n\t}\n\n\tprivate applyStretch(): void {\n\t\tif (!this.snappedTo) return;\n\n\t\tconst { width: windowWidth, height: windowHeight } = getWindowSize();\n\n\t\tif (this.snappedTo === 'left') {\n\t\t\tthis.container.style.height = `${windowHeight}px`;\n\t\t\tthis.container.style.top = '0px';\n\t\t\tthis.container.style.left = '0px';\n\t\t} else if (this.snappedTo === 'right') {\n\t\t\tthis.container.style.height = `${windowHeight}px`;\n\t\t\tthis.container.style.top = '0px';\n\t\t\tconst panelWidth = this.container.offsetWidth;\n\t\t\tthis.container.style.left = `${windowWidth - panelWidth}px`;\n\t\t} else if (this.snappedTo === 'top') {\n\t\t\tthis.container.style.width = `${windowWidth}px`;\n\t\t\tthis.container.style.left = '0px';\n\t\t\tthis.container.style.top = '0px';\n\t\t} else if (this.snappedTo === 'bottom') {\n\t\t\tthis.container.style.width = `${windowWidth}px`;\n\t\t\tthis.container.style.left = '0px';\n\t\t\tconst panelHeight = this.container.offsetHeight;\n\t\t\tthis.container.style.top = `${windowHeight - panelHeight}px`;\n\t\t} else if (this.snappedTo) {\n\t\t\t// Corner snap - stretch to full height\n\t\t\tthis.container.style.height = `${windowHeight}px`;\n\n\t\t\tif (this.snappedTo.includes('top')) {\n\t\t\t\tthis.container.style.top = '0px';\n\t\t\t} else {\n\t\t\t\tconst panelHeight = this.container.offsetHeight;\n\t\t\t\tthis.container.style.top = `${windowHeight - panelHeight}px`;\n\t\t\t}\n\n\t\t\tif (this.snappedTo.includes('Left')) {\n\t\t\t\tthis.container.style.left = '0px';\n\t\t\t} else {\n\t\t\t\tconst panelWidth = this.container.offsetWidth;\n\t\t\t\tthis.container.style.left = `${windowWidth - panelWidth}px`;\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate toggleLayoutMode(): void {\n\t\tthis.layoutMode = this.layoutMode === 'row' ? 'column' : 'row';\n\t\tthis.applyLayoutMode();\n\t\tthis.updateLayoutButtonTooltip();\n\t\tthis.saveSettings();\n\t}\n\n\tprivate applyLayoutMode(): void {\n\t\tconst content = this.contentContainer.querySelector(`[data-namespace=\"${this.activeTab}\"]`)  as HTMLElement;\n\t\tif (!content) return;\n\n\t\tif (this.layoutMode === 'column') {\n\t\t\tcontent.classList.add('layout-columns');\n\t\t\tcontent.style.display = 'flex';\n\t\t} else {\n\t\t\tcontent.classList.remove('layout-columns');\n\t\t\tcontent.style.display = 'block';\n\t\t}\n\t}\n\n\t// Panel controls\n\n\tpublic show(): void {\n\t\tthis.container.classList.add('visible');\n\t\t// Restore the opacity setting when showing\n\t\tconst opacity = parseFloat(this.container.style.opacity) || 1;\n\t\tthis.container.style.opacity = String(opacity);\n\t\tthis.saveSettings();\n\t}\n\n\tpublic hide(): void {\n\t\tif (this.clearOnHide) {\n\t\t\tthis.clearCurrentTab();\n\t\t}\n\t\tthis.container.classList.remove('visible');\n\t\tthis.saveSettings();\n\t}\n\n\tpublic toggle(): void {\n\t\tif (this.container.classList.contains('visible')) {\n\t\t\tthis.hide();\n\t\t} else {\n\t\t\tthis.show();\n\t\t}\n\t}\n}\n\n// Utility function to send state to debug panel\nexport function debug(idOrState: string, state?: any): void {\n\tEventBus.dispatch('debug', { id: idOrState, state });\n}","\nexport const COLLAPSED_INDICATOR = '►';\nexport const EXPANDED_INDICATOR = '▼';","function cloneRegExp(re) {\n    var _a;\n    const regexMatch = /^\\/(.*)\\/([gimyu]*)$/.exec(re.toString());\n    if (!regexMatch) {\n        throw new Error(\"Invalid RegExp\");\n    }\n    return new RegExp((_a = regexMatch[1]) !== null && _a !== void 0 ? _a : \"\", regexMatch[2]);\n}\nexport default function clone(arg) {\n    if (typeof arg !== \"object\") {\n        return arg;\n    }\n    if (arg === null) {\n        return null;\n    }\n    if (Array.isArray(arg)) {\n        return arg.map(clone);\n    }\n    if (arg instanceof Date) {\n        return new Date(arg.getTime());\n    }\n    if (arg instanceof RegExp) {\n        return cloneRegExp(arg);\n    }\n    const cloned = {};\n    for (const name in arg) {\n        if (Object.prototype.hasOwnProperty.call(arg, name)) {\n            cloned[name] = clone(arg[name]);\n        }\n    }\n    return cloned;\n}\n","export function assertNonEmptyArray(arr, message) {\n    if (arr.length === 0) {\n        throw new Error(message || \"Expected a non-empty array\");\n    }\n}\nexport function assertArrayHasExactly2(arr, message) {\n    if (arr.length !== 2) {\n        throw new Error(message || \"Expected an array with exactly 2 items\");\n    }\n}\nexport function assertArrayHasExactly1(arr, message) {\n    if (arr.length !== 1) {\n        throw new Error(message || \"Expected an array with exactly 1 item\");\n    }\n}\nexport function assertArrayHasAtLeast2(arr, message) {\n    if (arr.length < 2) {\n        throw new Error(message || \"Expected an array with at least 2 items\");\n    }\n}\nexport function isNonEmptyArray(arr) {\n    return arr.length > 0;\n}\nexport function isArrayWithAtLeast2(arr) {\n    return arr.length >= 2;\n}\nexport function isArrayWithAtLeast3(arr) {\n    return arr.length >= 3;\n}\nexport function isArrayWithExactly1(arr) {\n    return arr.length === 1;\n}\nexport function isArrayWithExactly2(arr) {\n    return arr.length === 2;\n}\nexport function isArrayWithExactly3(arr) {\n    return arr.length === 3;\n}\n/**\n * type-safe version of `arr[arr.length - 1]`\n * @param arr a non empty array\n * @returns the last element of the array\n */\nexport const lastNonEmpty = (arr) => arr[arr.length - 1];\n","import { assertNonEmptyArray, lastNonEmpty } from \"../assertions/arrays.js\";\nexport default class Context {\n    setResult(result) {\n        this.result = result;\n        this.hasResult = true;\n        return this;\n    }\n    exit() {\n        this.exiting = true;\n        return this;\n    }\n    push(child, name) {\n        child.parent = this;\n        if (typeof name !== \"undefined\") {\n            child.childName = name;\n        }\n        child.root = this.root || this;\n        child.options = child.options || this.options;\n        if (!this.children) {\n            this.children = [child];\n            this.nextAfterChildren = this.next || null;\n            this.next = child;\n        }\n        else {\n            assertNonEmptyArray(this.children);\n            lastNonEmpty(this.children).next = child;\n            this.children.push(child);\n        }\n        child.next = this;\n        return this;\n    }\n}\n","import defaultClone from \"../clone.js\";\nimport Context from \"./context.js\";\nclass DiffContext extends Context {\n    constructor(left, right) {\n        super();\n        this.left = left;\n        this.right = right;\n        this.pipe = \"diff\";\n    }\n    prepareDeltaResult(result) {\n        var _a, _b, _c, _d;\n        if (typeof result === \"object\") {\n            if (((_a = this.options) === null || _a === void 0 ? void 0 : _a.omitRemovedValues) &&\n                Array.isArray(result) &&\n                result.length > 1 &&\n                (result.length === 2 || // modified\n                    result[2] === 0 || // deleted\n                    result[2] === 3) // moved\n            ) {\n                // omit the left/old value (this delta will be more compact but irreversible)\n                result[0] = 0;\n            }\n            if ((_b = this.options) === null || _b === void 0 ? void 0 : _b.cloneDiffValues) {\n                const clone = typeof ((_c = this.options) === null || _c === void 0 ? void 0 : _c.cloneDiffValues) === \"function\"\n                    ? (_d = this.options) === null || _d === void 0 ? void 0 : _d.cloneDiffValues\n                    : defaultClone;\n                if (typeof result[0] === \"object\") {\n                    result[0] = clone(result[0]);\n                }\n                if (typeof result[1] === \"object\") {\n                    result[1] = clone(result[1]);\n                }\n            }\n        }\n        return result;\n    }\n    setResult(result) {\n        this.prepareDeltaResult(result);\n        return super.setResult(result);\n    }\n}\nexport default DiffContext;\n","import Context from \"./context.js\";\nclass PatchContext extends Context {\n    constructor(left, delta) {\n        super();\n        this.left = left;\n        this.delta = delta;\n        this.pipe = \"patch\";\n    }\n}\nexport default PatchContext;\n","import Context from \"./context.js\";\nclass ReverseContext extends Context {\n    constructor(delta) {\n        super();\n        this.delta = delta;\n        this.pipe = \"reverse\";\n    }\n}\nexport default ReverseContext;\n","// eslint-disable-next-line @typescript-eslint/no-explicit-any\nclass Pipe {\n    constructor(name) {\n        this.name = name;\n        this.filters = [];\n    }\n    process(input) {\n        if (!this.processor) {\n            throw new Error(\"add this pipe to a processor before using it\");\n        }\n        const debug = this.debug;\n        const length = this.filters.length;\n        const context = input;\n        for (let index = 0; index < length; index++) {\n            const filter = this.filters[index];\n            if (!filter)\n                continue;\n            if (debug) {\n                this.log(`filter: ${filter.filterName}`);\n            }\n            filter(context);\n            if (typeof context === \"object\" && context.exiting) {\n                context.exiting = false;\n                break;\n            }\n        }\n        if (!context.next && this.resultCheck) {\n            this.resultCheck(context);\n        }\n    }\n    log(msg) {\n        console.log(`[jsondiffpatch] ${this.name} pipe, ${msg}`);\n    }\n    append(...args) {\n        this.filters.push(...args);\n        return this;\n    }\n    prepend(...args) {\n        this.filters.unshift(...args);\n        return this;\n    }\n    indexOf(filterName) {\n        if (!filterName) {\n            throw new Error(\"a filter name is required\");\n        }\n        for (let index = 0; index < this.filters.length; index++) {\n            const filter = this.filters[index];\n            if ((filter === null || filter === void 0 ? void 0 : filter.filterName) === filterName) {\n                return index;\n            }\n        }\n        throw new Error(`filter not found: ${filterName}`);\n    }\n    list() {\n        return this.filters.map((f) => f.filterName);\n    }\n    after(filterName, ...params) {\n        const index = this.indexOf(filterName);\n        this.filters.splice(index + 1, 0, ...params);\n        return this;\n    }\n    before(filterName, ...params) {\n        const index = this.indexOf(filterName);\n        this.filters.splice(index, 0, ...params);\n        return this;\n    }\n    replace(filterName, ...params) {\n        const index = this.indexOf(filterName);\n        this.filters.splice(index, 1, ...params);\n        return this;\n    }\n    remove(filterName) {\n        const index = this.indexOf(filterName);\n        this.filters.splice(index, 1);\n        return this;\n    }\n    clear() {\n        this.filters.length = 0;\n        return this;\n    }\n    shouldHaveResult(should) {\n        if (should === false) {\n            this.resultCheck = null;\n            return this;\n        }\n        if (this.resultCheck) {\n            return this;\n        }\n        this.resultCheck = (context) => {\n            if (!context.hasResult) {\n                console.log(context);\n                const error = new Error(`${this.name} failed`);\n                error.noResult = true;\n                throw error;\n            }\n        };\n        return this;\n    }\n}\nexport default Pipe;\n","class Processor {\n    constructor(options) {\n        this.selfOptions = options || {};\n        this.pipes = {};\n    }\n    options(options) {\n        if (options) {\n            this.selfOptions = options;\n        }\n        return this.selfOptions;\n    }\n    pipe(name, pipeArg) {\n        let pipe = pipeArg;\n        if (typeof name === \"string\") {\n            if (typeof pipe === \"undefined\") {\n                return this.pipes[name];\n            }\n            this.pipes[name] = pipe;\n        }\n        if (name && name.name) {\n            pipe = name;\n            if (pipe.processor === this) {\n                return pipe;\n            }\n            this.pipes[pipe.name] = pipe;\n        }\n        if (!pipe) {\n            throw new Error(`pipe is not defined: ${name}`);\n        }\n        pipe.processor = this;\n        return pipe;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    process(input, pipe) {\n        let context = input;\n        context.options = this.options();\n        let nextPipe = pipe || input.pipe || \"default\";\n        let lastPipe = undefined;\n        while (nextPipe) {\n            if (typeof context.nextAfterChildren !== \"undefined\") {\n                // children processed and coming back to parent\n                context.next = context.nextAfterChildren;\n                context.nextAfterChildren = null;\n            }\n            if (typeof nextPipe === \"string\") {\n                nextPipe = this.pipe(nextPipe);\n            }\n            nextPipe.process(context);\n            lastPipe = nextPipe;\n            nextPipe = null;\n            if (context) {\n                if (context.next) {\n                    context = context.next;\n                    nextPipe = context.pipe || lastPipe;\n                }\n            }\n        }\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n        return context.hasResult ? context.result : undefined;\n    }\n}\nexport default Processor;\n","/*\n\nLCS implementation that supports arrays or strings\n\nreference: http://en.wikipedia.org/wiki/Longest_common_subsequence_problem\n\n*/\nconst defaultMatch = (array1, array2, index1, index2) => array1[index1] === array2[index2];\nconst lengthMatrix = (array1, array2, match, context) => {\n    var _a, _b, _c;\n    const len1 = array1.length;\n    const len2 = array2.length;\n    let x;\n    let y;\n    // initialize empty matrix of len1+1 x len2+1\n    const matrix = new Array(len1 + 1);\n    for (x = 0; x < len1 + 1; x++) {\n        const matrixNewRow = new Array(len2 + 1);\n        for (y = 0; y < len2 + 1; y++) {\n            matrixNewRow[y] = 0;\n        }\n        matrix[x] = matrixNewRow;\n    }\n    matrix.match = match;\n    // save sequence lengths for each coordinate\n    for (x = 1; x < len1 + 1; x++) {\n        const matrixRowX = matrix[x];\n        if (matrixRowX === undefined) {\n            throw new Error(\"LCS matrix row is undefined\");\n        }\n        const matrixRowBeforeX = matrix[x - 1];\n        if (matrixRowBeforeX === undefined) {\n            throw new Error(\"LCS matrix row is undefined\");\n        }\n        for (y = 1; y < len2 + 1; y++) {\n            if (match(array1, array2, x - 1, y - 1, context)) {\n                matrixRowX[y] = ((_a = matrixRowBeforeX[y - 1]) !== null && _a !== void 0 ? _a : 0) + 1;\n            }\n            else {\n                matrixRowX[y] = Math.max((_b = matrixRowBeforeX[y]) !== null && _b !== void 0 ? _b : 0, (_c = matrixRowX[y - 1]) !== null && _c !== void 0 ? _c : 0);\n            }\n        }\n    }\n    return matrix;\n};\nconst backtrack = (matrix, array1, array2, context) => {\n    let index1 = array1.length;\n    let index2 = array2.length;\n    const subsequence = {\n        sequence: [],\n        indices1: [],\n        indices2: [],\n    };\n    while (index1 !== 0 && index2 !== 0) {\n        if (matrix.match === undefined) {\n            throw new Error(\"LCS matrix match function is undefined\");\n        }\n        const sameLetter = matrix.match(array1, array2, index1 - 1, index2 - 1, context);\n        if (sameLetter) {\n            subsequence.sequence.unshift(array1[index1 - 1]);\n            subsequence.indices1.unshift(index1 - 1);\n            subsequence.indices2.unshift(index2 - 1);\n            --index1;\n            --index2;\n        }\n        else {\n            const matrixRowIndex1 = matrix[index1];\n            if (matrixRowIndex1 === undefined) {\n                throw new Error(\"LCS matrix row is undefined\");\n            }\n            const valueAtMatrixAbove = matrixRowIndex1[index2 - 1];\n            if (valueAtMatrixAbove === undefined) {\n                throw new Error(\"LCS matrix value is undefined\");\n            }\n            const matrixRowBeforeIndex1 = matrix[index1 - 1];\n            if (matrixRowBeforeIndex1 === undefined) {\n                throw new Error(\"LCS matrix row is undefined\");\n            }\n            const valueAtMatrixLeft = matrixRowBeforeIndex1[index2];\n            if (valueAtMatrixLeft === undefined) {\n                throw new Error(\"LCS matrix value is undefined\");\n            }\n            if (valueAtMatrixAbove > valueAtMatrixLeft) {\n                --index2;\n            }\n            else {\n                --index1;\n            }\n        }\n    }\n    return subsequence;\n};\nconst get = (array1, array2, match, context) => {\n    const innerContext = context || {};\n    const matrix = lengthMatrix(array1, array2, match || defaultMatch, innerContext);\n    return backtrack(matrix, array1, array2, innerContext);\n};\nexport default {\n    get,\n};\n","import DiffContext from \"../contexts/diff.js\";\nimport PatchContext from \"../contexts/patch.js\";\nimport ReverseContext from \"../contexts/reverse.js\";\nimport lcs from \"./lcs.js\";\nconst ARRAY_MOVE = 3;\nfunction arraysHaveMatchByRef(array1, array2, len1, len2) {\n    for (let index1 = 0; index1 < len1; index1++) {\n        const val1 = array1[index1];\n        for (let index2 = 0; index2 < len2; index2++) {\n            const val2 = array2[index2];\n            if (index1 !== index2 && val1 === val2) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\nfunction matchItems(array1, array2, index1, index2, context) {\n    const value1 = array1[index1];\n    const value2 = array2[index2];\n    if (value1 === value2) {\n        return true;\n    }\n    if (typeof value1 !== \"object\" || typeof value2 !== \"object\") {\n        return false;\n    }\n    const objectHash = context.objectHash;\n    if (!objectHash) {\n        // no way to match objects was provided, try match by position\n        return context.matchByPosition && index1 === index2;\n    }\n    context.hashCache1 = context.hashCache1 || [];\n    let hash1 = context.hashCache1[index1];\n    if (typeof hash1 === \"undefined\") {\n        context.hashCache1[index1] = hash1 = objectHash(value1, index1);\n    }\n    if (typeof hash1 === \"undefined\") {\n        return false;\n    }\n    context.hashCache2 = context.hashCache2 || [];\n    let hash2 = context.hashCache2[index2];\n    if (typeof hash2 === \"undefined\") {\n        context.hashCache2[index2] = hash2 = objectHash(value2, index2);\n    }\n    if (typeof hash2 === \"undefined\") {\n        return false;\n    }\n    return hash1 === hash2;\n}\nexport const diffFilter = function arraysDiffFilter(context) {\n    var _a, _b, _c, _d, _e;\n    if (!context.leftIsArray) {\n        return;\n    }\n    const matchContext = {\n        objectHash: (_a = context.options) === null || _a === void 0 ? void 0 : _a.objectHash,\n        matchByPosition: (_b = context.options) === null || _b === void 0 ? void 0 : _b.matchByPosition,\n    };\n    let commonHead = 0;\n    let commonTail = 0;\n    let index;\n    let index1;\n    let index2;\n    const array1 = context.left;\n    const array2 = context.right;\n    const len1 = array1.length;\n    const len2 = array2.length;\n    let child;\n    if (len1 > 0 &&\n        len2 > 0 &&\n        !matchContext.objectHash &&\n        typeof matchContext.matchByPosition !== \"boolean\") {\n        matchContext.matchByPosition = !arraysHaveMatchByRef(array1, array2, len1, len2);\n    }\n    // separate common head\n    while (commonHead < len1 &&\n        commonHead < len2 &&\n        matchItems(array1, array2, commonHead, commonHead, matchContext)) {\n        index = commonHead;\n        child = new DiffContext(array1[index], array2[index]);\n        context.push(child, index);\n        commonHead++;\n    }\n    // separate common tail\n    while (commonTail + commonHead < len1 &&\n        commonTail + commonHead < len2 &&\n        matchItems(array1, array2, len1 - 1 - commonTail, len2 - 1 - commonTail, matchContext)) {\n        index1 = len1 - 1 - commonTail;\n        index2 = len2 - 1 - commonTail;\n        child = new DiffContext(array1[index1], array2[index2]);\n        context.push(child, index2);\n        commonTail++;\n    }\n    let result;\n    if (commonHead + commonTail === len1) {\n        if (len1 === len2) {\n            // arrays are identical\n            context.setResult(undefined).exit();\n            return;\n        }\n        // trivial case, a block (1 or more consecutive items) was added\n        result = result || {\n            _t: \"a\",\n        };\n        for (index = commonHead; index < len2 - commonTail; index++) {\n            result[index] = [array2[index]];\n            context.prepareDeltaResult(result[index]);\n        }\n        context.setResult(result).exit();\n        return;\n    }\n    if (commonHead + commonTail === len2) {\n        // trivial case, a block (1 or more consecutive items) was removed\n        result = result || {\n            _t: \"a\",\n        };\n        for (index = commonHead; index < len1 - commonTail; index++) {\n            const key = `_${index}`;\n            result[key] = [array1[index], 0, 0];\n            context.prepareDeltaResult(result[key]);\n        }\n        context.setResult(result).exit();\n        return;\n    }\n    // reset hash cache\n    matchContext.hashCache1 = undefined;\n    matchContext.hashCache2 = undefined;\n    // diff is not trivial, find the LCS (Longest Common Subsequence)\n    const trimmed1 = array1.slice(commonHead, len1 - commonTail);\n    const trimmed2 = array2.slice(commonHead, len2 - commonTail);\n    const seq = lcs.get(trimmed1, trimmed2, matchItems, matchContext);\n    const removedItems = [];\n    result = result || {\n        _t: \"a\",\n    };\n    for (index = commonHead; index < len1 - commonTail; index++) {\n        if (seq.indices1.indexOf(index - commonHead) < 0) {\n            // removed\n            const key = `_${index}`;\n            result[key] = [array1[index], 0, 0];\n            context.prepareDeltaResult(result[key]);\n            removedItems.push(index);\n        }\n    }\n    let detectMove = true;\n    if (((_c = context.options) === null || _c === void 0 ? void 0 : _c.arrays) && context.options.arrays.detectMove === false) {\n        detectMove = false;\n    }\n    let includeValueOnMove = false;\n    if ((_e = (_d = context.options) === null || _d === void 0 ? void 0 : _d.arrays) === null || _e === void 0 ? void 0 : _e.includeValueOnMove) {\n        includeValueOnMove = true;\n    }\n    const removedItemsLength = removedItems.length;\n    for (index = commonHead; index < len2 - commonTail; index++) {\n        const indexOnArray2 = seq.indices2.indexOf(index - commonHead);\n        if (indexOnArray2 < 0) {\n            // added, try to match with a removed item and register as position move\n            let isMove = false;\n            if (detectMove && removedItemsLength > 0) {\n                for (let removeItemIndex1 = 0; removeItemIndex1 < removedItemsLength; removeItemIndex1++) {\n                    index1 = removedItems[removeItemIndex1];\n                    const resultItem = index1 === undefined ? undefined : result[`_${index1}`];\n                    if (index1 !== undefined &&\n                        resultItem &&\n                        matchItems(trimmed1, trimmed2, index1 - commonHead, index - commonHead, matchContext)) {\n                        // store position move as: [originalValue, newPosition, ARRAY_MOVE]\n                        resultItem.splice(1, 2, index, ARRAY_MOVE);\n                        resultItem.splice(1, 2, index, ARRAY_MOVE);\n                        if (!includeValueOnMove) {\n                            // don't include moved value on diff, to save bytes\n                            resultItem[0] = \"\";\n                        }\n                        index2 = index;\n                        child = new DiffContext(array1[index1], array2[index2]);\n                        context.push(child, index2);\n                        removedItems.splice(removeItemIndex1, 1);\n                        isMove = true;\n                        break;\n                    }\n                }\n            }\n            if (!isMove) {\n                // added\n                result[index] = [array2[index]];\n                context.prepareDeltaResult(result[index]);\n            }\n        }\n        else {\n            // match, do inner diff\n            if (seq.indices1[indexOnArray2] === undefined) {\n                throw new Error(`Invalid indexOnArray2: ${indexOnArray2}, seq.indices1: ${seq.indices1}`);\n            }\n            index1 = seq.indices1[indexOnArray2] + commonHead;\n            if (seq.indices2[indexOnArray2] === undefined) {\n                throw new Error(`Invalid indexOnArray2: ${indexOnArray2}, seq.indices2: ${seq.indices2}`);\n            }\n            index2 = seq.indices2[indexOnArray2] + commonHead;\n            child = new DiffContext(array1[index1], array2[index2]);\n            context.push(child, index2);\n        }\n    }\n    context.setResult(result).exit();\n};\ndiffFilter.filterName = \"arrays\";\nconst compare = {\n    numerically(a, b) {\n        return a - b;\n    },\n    numericallyBy(name) {\n        return (a, b) => a[name] - b[name];\n    },\n};\nexport const patchFilter = function nestedPatchFilter(context) {\n    var _a;\n    if (!context.nested) {\n        return;\n    }\n    const nestedDelta = context.delta;\n    if (nestedDelta._t !== \"a\") {\n        return;\n    }\n    let index;\n    let index1;\n    const delta = nestedDelta;\n    const array = context.left;\n    // first, separate removals, insertions and modifications\n    let toRemove = [];\n    let toInsert = [];\n    const toModify = [];\n    for (index in delta) {\n        if (index !== \"_t\") {\n            if (index[0] === \"_\") {\n                const removedOrMovedIndex = index;\n                // removed item from original array\n                if (delta[removedOrMovedIndex] !== undefined &&\n                    (delta[removedOrMovedIndex][2] === 0 ||\n                        delta[removedOrMovedIndex][2] === ARRAY_MOVE)) {\n                    toRemove.push(Number.parseInt(index.slice(1), 10));\n                }\n                else {\n                    throw new Error(`only removal or move can be applied at original array indices, invalid diff type: ${(_a = delta[removedOrMovedIndex]) === null || _a === void 0 ? void 0 : _a[2]}`);\n                }\n            }\n            else {\n                const numberIndex = index;\n                if (delta[numberIndex].length === 1) {\n                    // added item at new array\n                    toInsert.push({\n                        index: Number.parseInt(numberIndex, 10),\n                        value: delta[numberIndex][0],\n                    });\n                }\n                else {\n                    // modified item at new array\n                    toModify.push({\n                        index: Number.parseInt(numberIndex, 10),\n                        delta: delta[numberIndex],\n                    });\n                }\n            }\n        }\n    }\n    // remove items, in reverse order to avoid sawing our own floor\n    toRemove = toRemove.sort(compare.numerically);\n    for (index = toRemove.length - 1; index >= 0; index--) {\n        index1 = toRemove[index];\n        if (index1 === undefined)\n            continue;\n        const indexDiff = delta[`_${index1}`];\n        const removedValue = array.splice(index1, 1)[0];\n        if ((indexDiff === null || indexDiff === void 0 ? void 0 : indexDiff[2]) === ARRAY_MOVE) {\n            // reinsert later\n            toInsert.push({\n                index: indexDiff[1],\n                value: removedValue,\n            });\n        }\n    }\n    // insert items, in reverse order to avoid moving our own floor\n    toInsert = toInsert.sort(compare.numericallyBy(\"index\"));\n    const toInsertLength = toInsert.length;\n    for (index = 0; index < toInsertLength; index++) {\n        const insertion = toInsert[index];\n        if (insertion === undefined)\n            continue;\n        array.splice(insertion.index, 0, insertion.value);\n    }\n    // apply modifications\n    const toModifyLength = toModify.length;\n    if (toModifyLength > 0) {\n        for (index = 0; index < toModifyLength; index++) {\n            const modification = toModify[index];\n            if (modification === undefined)\n                continue;\n            const child = new PatchContext(array[modification.index], modification.delta);\n            context.push(child, modification.index);\n        }\n    }\n    if (!context.children) {\n        context.setResult(array).exit();\n        return;\n    }\n    context.exit();\n};\npatchFilter.filterName = \"arrays\";\nexport const collectChildrenPatchFilter = function collectChildrenPatchFilter(context) {\n    if (!context || !context.children) {\n        return;\n    }\n    const deltaWithChildren = context.delta;\n    if (deltaWithChildren._t !== \"a\") {\n        return;\n    }\n    const array = context.left;\n    const length = context.children.length;\n    for (let index = 0; index < length; index++) {\n        const child = context.children[index];\n        if (child === undefined)\n            continue;\n        const arrayIndex = child.childName;\n        array[arrayIndex] = child.result;\n    }\n    context.setResult(array).exit();\n};\ncollectChildrenPatchFilter.filterName = \"arraysCollectChildren\";\nexport const reverseFilter = function arraysReverseFilter(context) {\n    if (!context.nested) {\n        const nonNestedDelta = context.delta;\n        if (nonNestedDelta[2] === ARRAY_MOVE) {\n            const arrayMoveDelta = nonNestedDelta;\n            context.newName = `_${arrayMoveDelta[1]}`;\n            context\n                .setResult([\n                arrayMoveDelta[0],\n                Number.parseInt(context.childName.substring(1), 10),\n                ARRAY_MOVE,\n            ])\n                .exit();\n        }\n        return;\n    }\n    const nestedDelta = context.delta;\n    if (nestedDelta._t !== \"a\") {\n        return;\n    }\n    const arrayDelta = nestedDelta;\n    for (const name in arrayDelta) {\n        if (name === \"_t\") {\n            continue;\n        }\n        const child = new ReverseContext(arrayDelta[name]);\n        context.push(child, name);\n    }\n    context.exit();\n};\nreverseFilter.filterName = \"arrays\";\nconst reverseArrayDeltaIndex = (delta, index, itemDelta) => {\n    if (typeof index === \"string\" && index[0] === \"_\") {\n        return Number.parseInt(index.substring(1), 10);\n    }\n    if (Array.isArray(itemDelta) && itemDelta[2] === 0) {\n        return `_${index}`;\n    }\n    let reverseIndex = +index;\n    for (const deltaIndex in delta) {\n        const deltaItem = delta[deltaIndex];\n        if (Array.isArray(deltaItem)) {\n            if (deltaItem[2] === ARRAY_MOVE) {\n                const moveFromIndex = Number.parseInt(deltaIndex.substring(1), 10);\n                const moveToIndex = deltaItem[1];\n                if (moveToIndex === +index) {\n                    return moveFromIndex;\n                }\n                if (moveFromIndex <= reverseIndex && moveToIndex > reverseIndex) {\n                    reverseIndex++;\n                }\n                else if (moveFromIndex >= reverseIndex &&\n                    moveToIndex < reverseIndex) {\n                    reverseIndex--;\n                }\n            }\n            else if (deltaItem[2] === 0) {\n                const deleteIndex = Number.parseInt(deltaIndex.substring(1), 10);\n                if (deleteIndex <= reverseIndex) {\n                    reverseIndex++;\n                }\n            }\n            else if (deltaItem.length === 1 &&\n                Number.parseInt(deltaIndex, 10) <= reverseIndex) {\n                reverseIndex--;\n            }\n        }\n    }\n    return reverseIndex;\n};\nexport const collectChildrenReverseFilter = (context) => {\n    if (!context || !context.children) {\n        return;\n    }\n    const deltaWithChildren = context.delta;\n    if (deltaWithChildren._t !== \"a\") {\n        return;\n    }\n    const arrayDelta = deltaWithChildren;\n    const length = context.children.length;\n    const delta = {\n        _t: \"a\",\n    };\n    for (let index = 0; index < length; index++) {\n        const child = context.children[index];\n        if (child === undefined)\n            continue;\n        let name = child.newName;\n        if (typeof name === \"undefined\") {\n            if (child.childName === undefined) {\n                throw new Error(\"child.childName is undefined\");\n            }\n            name = reverseArrayDeltaIndex(arrayDelta, child.childName, child.result);\n        }\n        if (delta[name] !== child.result) {\n            // There's no way to type this well.\n            delta[name] = child.result;\n        }\n    }\n    context.setResult(delta).exit();\n};\ncollectChildrenReverseFilter.filterName = \"arraysCollectChildren\";\n","export const diffFilter = function datesDiffFilter(context) {\n    if (context.left instanceof Date) {\n        if (context.right instanceof Date) {\n            if (context.left.getTime() !== context.right.getTime()) {\n                context.setResult([context.left, context.right]);\n            }\n            else {\n                context.setResult(undefined);\n            }\n        }\n        else {\n            context.setResult([context.left, context.right]);\n        }\n        context.exit();\n    }\n    else if (context.right instanceof Date) {\n        context.setResult([context.left, context.right]).exit();\n    }\n};\ndiffFilter.filterName = \"dates\";\n","import DiffContext from \"../contexts/diff.js\";\nimport PatchContext from \"../contexts/patch.js\";\nimport ReverseContext from \"../contexts/reverse.js\";\nexport const collectChildrenDiffFilter = (context) => {\n    if (!context || !context.children) {\n        return;\n    }\n    const length = context.children.length;\n    let result = context.result;\n    for (let index = 0; index < length; index++) {\n        const child = context.children[index];\n        if (child === undefined)\n            continue;\n        if (typeof child.result === \"undefined\") {\n            continue;\n        }\n        result = result || {};\n        if (child.childName === undefined) {\n            throw new Error(\"diff child.childName is undefined\");\n        }\n        result[child.childName] = child.result;\n    }\n    if (result && context.leftIsArray) {\n        result._t = \"a\";\n    }\n    context.setResult(result).exit();\n};\ncollectChildrenDiffFilter.filterName = \"collectChildren\";\nexport const objectsDiffFilter = (context) => {\n    var _a;\n    if (context.leftIsArray || context.leftType !== \"object\") {\n        return;\n    }\n    const left = context.left;\n    const right = context.right;\n    const propertyFilter = (_a = context.options) === null || _a === void 0 ? void 0 : _a.propertyFilter;\n    for (const name in left) {\n        if (!Object.prototype.hasOwnProperty.call(left, name)) {\n            continue;\n        }\n        if (propertyFilter && !propertyFilter(name, context)) {\n            continue;\n        }\n        const child = new DiffContext(left[name], right[name]);\n        context.push(child, name);\n    }\n    for (const name in right) {\n        if (!Object.prototype.hasOwnProperty.call(right, name)) {\n            continue;\n        }\n        if (propertyFilter && !propertyFilter(name, context)) {\n            continue;\n        }\n        if (typeof left[name] === \"undefined\") {\n            const child = new DiffContext(undefined, right[name]);\n            context.push(child, name);\n        }\n    }\n    if (!context.children || context.children.length === 0) {\n        context.setResult(undefined).exit();\n        return;\n    }\n    context.exit();\n};\nobjectsDiffFilter.filterName = \"objects\";\nexport const patchFilter = function nestedPatchFilter(context) {\n    if (!context.nested) {\n        return;\n    }\n    const nestedDelta = context.delta;\n    if (nestedDelta._t) {\n        return;\n    }\n    const objectDelta = nestedDelta;\n    for (const name in objectDelta) {\n        const child = new PatchContext(context.left[name], objectDelta[name]);\n        context.push(child, name);\n    }\n    context.exit();\n};\npatchFilter.filterName = \"objects\";\nexport const collectChildrenPatchFilter = function collectChildrenPatchFilter(context) {\n    if (!context || !context.children) {\n        return;\n    }\n    const deltaWithChildren = context.delta;\n    if (deltaWithChildren._t) {\n        return;\n    }\n    const object = context.left;\n    const length = context.children.length;\n    for (let index = 0; index < length; index++) {\n        const child = context.children[index];\n        if (child === undefined)\n            continue;\n        const property = child.childName;\n        if (Object.prototype.hasOwnProperty.call(context.left, property) &&\n            child.result === undefined) {\n            delete object[property];\n        }\n        else if (object[property] !== child.result) {\n            object[property] = child.result;\n        }\n    }\n    context.setResult(object).exit();\n};\ncollectChildrenPatchFilter.filterName = \"collectChildren\";\nexport const reverseFilter = function nestedReverseFilter(context) {\n    if (!context.nested) {\n        return;\n    }\n    const nestedDelta = context.delta;\n    if (nestedDelta._t) {\n        return;\n    }\n    const objectDelta = context.delta;\n    for (const name in objectDelta) {\n        const child = new ReverseContext(objectDelta[name]);\n        context.push(child, name);\n    }\n    context.exit();\n};\nreverseFilter.filterName = \"objects\";\nexport const collectChildrenReverseFilter = (context) => {\n    if (!context || !context.children) {\n        return;\n    }\n    const deltaWithChildren = context.delta;\n    if (deltaWithChildren._t) {\n        return;\n    }\n    const length = context.children.length;\n    const delta = {};\n    for (let index = 0; index < length; index++) {\n        const child = context.children[index];\n        if (child === undefined)\n            continue;\n        const property = child.childName;\n        if (delta[property] !== child.result) {\n            delta[property] = child.result;\n        }\n    }\n    context.setResult(delta).exit();\n};\ncollectChildrenReverseFilter.filterName = \"collectChildren\";\n","const TEXT_DIFF = 2;\nconst DEFAULT_MIN_LENGTH = 60;\nlet cachedDiffPatch = null;\nfunction getDiffMatchPatch(options, required) {\n    var _a;\n    if (!cachedDiffPatch) {\n        let instance;\n        if ((_a = options === null || options === void 0 ? void 0 : options.textDiff) === null || _a === void 0 ? void 0 : _a.diffMatchPatch) {\n            instance = new options.textDiff.diffMatchPatch();\n        }\n        else {\n            if (!required) {\n                return null;\n            }\n            const error = new Error(\"The diff-match-patch library was not provided. Pass the library in through the options or use the `jsondiffpatch/with-text-diffs` entry-point.\");\n            // eslint-disable-next-line camelcase\n            error.diff_match_patch_not_found = true;\n            throw error;\n        }\n        cachedDiffPatch = {\n            diff: (txt1, txt2) => instance.patch_toText(instance.patch_make(txt1, txt2)),\n            patch: (txt1, patch) => {\n                const results = instance.patch_apply(instance.patch_fromText(patch), txt1);\n                for (const resultOk of results[1]) {\n                    if (!resultOk) {\n                        const error = new Error(\"text patch failed\");\n                        error.textPatchFailed = true;\n                        throw error;\n                    }\n                }\n                return results[0];\n            },\n        };\n    }\n    return cachedDiffPatch;\n}\nexport const diffFilter = function textsDiffFilter(context) {\n    var _a, _b;\n    if (context.leftType !== \"string\") {\n        return;\n    }\n    const left = context.left;\n    const right = context.right;\n    const minLength = ((_b = (_a = context.options) === null || _a === void 0 ? void 0 : _a.textDiff) === null || _b === void 0 ? void 0 : _b.minLength) || DEFAULT_MIN_LENGTH;\n    if (left.length < minLength || right.length < minLength) {\n        context.setResult([left, right]).exit();\n        return;\n    }\n    // large text, try to use a text-diff algorithm\n    const diffMatchPatch = getDiffMatchPatch(context.options);\n    if (!diffMatchPatch) {\n        // diff-match-patch library not available,\n        // fallback to regular string replace\n        context.setResult([left, right]).exit();\n        return;\n    }\n    const diff = diffMatchPatch.diff;\n    context.setResult([diff(left, right), 0, TEXT_DIFF]).exit();\n};\ndiffFilter.filterName = \"texts\";\nexport const patchFilter = function textsPatchFilter(context) {\n    if (context.nested) {\n        return;\n    }\n    const nonNestedDelta = context.delta;\n    if (nonNestedDelta[2] !== TEXT_DIFF) {\n        return;\n    }\n    const textDiffDelta = nonNestedDelta;\n    // text-diff, use a text-patch algorithm\n    const patch = getDiffMatchPatch(context.options, true).patch;\n    context.setResult(patch(context.left, textDiffDelta[0])).exit();\n};\npatchFilter.filterName = \"texts\";\nconst textDeltaReverse = (delta) => {\n    var _a, _b, _c;\n    const headerRegex = /^@@ +-(\\d+),(\\d+) +\\+(\\d+),(\\d+) +@@$/;\n    const lines = delta.split(\"\\n\");\n    for (let i = 0; i < lines.length; i++) {\n        const line = lines[i];\n        if (line === undefined)\n            continue;\n        const lineStart = line.slice(0, 1);\n        if (lineStart === \"@\") {\n            const header = headerRegex.exec(line);\n            if (header !== null) {\n                const lineHeader = i;\n                // fix header\n                lines[lineHeader] =\n                    `@@ -${header[3]},${header[4]} +${header[1]},${header[2]} @@`;\n            }\n        }\n        else if (lineStart === \"+\") {\n            lines[i] = `-${(_a = lines[i]) === null || _a === void 0 ? void 0 : _a.slice(1)}`;\n            if (((_b = lines[i - 1]) === null || _b === void 0 ? void 0 : _b.slice(0, 1)) === \"+\") {\n                // swap lines to keep default order (-+)\n                const lineTmp = lines[i];\n                lines[i] = lines[i - 1];\n                lines[i - 1] = lineTmp;\n            }\n        }\n        else if (lineStart === \"-\") {\n            lines[i] = `+${(_c = lines[i]) === null || _c === void 0 ? void 0 : _c.slice(1)}`;\n        }\n    }\n    return lines.join(\"\\n\");\n};\nexport const reverseFilter = function textsReverseFilter(context) {\n    if (context.nested) {\n        return;\n    }\n    const nonNestedDelta = context.delta;\n    if (nonNestedDelta[2] !== TEXT_DIFF) {\n        return;\n    }\n    const textDiffDelta = nonNestedDelta;\n    // text-diff, use a text-diff algorithm\n    context\n        .setResult([textDeltaReverse(textDiffDelta[0]), 0, TEXT_DIFF])\n        .exit();\n};\nreverseFilter.filterName = \"texts\";\n","export const diffFilter = function trivialMatchesDiffFilter(context) {\n    if (context.left === context.right) {\n        context.setResult(undefined).exit();\n        return;\n    }\n    if (typeof context.left === \"undefined\") {\n        if (typeof context.right === \"function\") {\n            throw new Error(\"functions are not supported\");\n        }\n        context.setResult([context.right]).exit();\n        return;\n    }\n    if (typeof context.right === \"undefined\") {\n        context.setResult([context.left, 0, 0]).exit();\n        return;\n    }\n    if (typeof context.left === \"function\" ||\n        typeof context.right === \"function\") {\n        throw new Error(\"functions are not supported\");\n    }\n    context.leftType = context.left === null ? \"null\" : typeof context.left;\n    context.rightType = context.right === null ? \"null\" : typeof context.right;\n    if (context.leftType !== context.rightType) {\n        context.setResult([context.left, context.right]).exit();\n        return;\n    }\n    if (context.leftType === \"boolean\" || context.leftType === \"number\") {\n        context.setResult([context.left, context.right]).exit();\n        return;\n    }\n    if (context.leftType === \"object\") {\n        context.leftIsArray = Array.isArray(context.left);\n    }\n    if (context.rightType === \"object\") {\n        context.rightIsArray = Array.isArray(context.right);\n    }\n    if (context.leftIsArray !== context.rightIsArray) {\n        context.setResult([context.left, context.right]).exit();\n        return;\n    }\n    if (context.left instanceof RegExp) {\n        if (context.right instanceof RegExp) {\n            context\n                .setResult([context.left.toString(), context.right.toString()])\n                .exit();\n        }\n        else {\n            context.setResult([context.left, context.right]).exit();\n        }\n    }\n};\ndiffFilter.filterName = \"trivial\";\nexport const patchFilter = function trivialMatchesPatchFilter(context) {\n    if (typeof context.delta === \"undefined\") {\n        context.setResult(context.left).exit();\n        return;\n    }\n    context.nested = !Array.isArray(context.delta);\n    if (context.nested) {\n        return;\n    }\n    const nonNestedDelta = context.delta;\n    if (nonNestedDelta.length === 1) {\n        context.setResult(nonNestedDelta[0]).exit();\n        return;\n    }\n    if (nonNestedDelta.length === 2) {\n        if (context.left instanceof RegExp) {\n            const regexArgs = /^\\/(.*)\\/([gimyu]+)$/.exec(nonNestedDelta[1]);\n            if (regexArgs === null || regexArgs === void 0 ? void 0 : regexArgs[1]) {\n                context.setResult(new RegExp(regexArgs[1], regexArgs[2])).exit();\n                return;\n            }\n        }\n        context.setResult(nonNestedDelta[1]).exit();\n        return;\n    }\n    if (nonNestedDelta.length === 3 && nonNestedDelta[2] === 0) {\n        context.setResult(undefined).exit();\n    }\n};\npatchFilter.filterName = \"trivial\";\nexport const reverseFilter = function trivialReferseFilter(context) {\n    if (typeof context.delta === \"undefined\") {\n        context.setResult(context.delta).exit();\n        return;\n    }\n    context.nested = !Array.isArray(context.delta);\n    if (context.nested) {\n        return;\n    }\n    const nonNestedDelta = context.delta;\n    if (nonNestedDelta.length === 1) {\n        context.setResult([nonNestedDelta[0], 0, 0]).exit();\n        return;\n    }\n    if (nonNestedDelta.length === 2) {\n        context.setResult([nonNestedDelta[1], nonNestedDelta[0]]).exit();\n        return;\n    }\n    if (nonNestedDelta.length === 3 && nonNestedDelta[2] === 0) {\n        context.setResult([nonNestedDelta[0]]).exit();\n    }\n};\nreverseFilter.filterName = \"trivial\";\n","import clone from \"./clone.js\";\nimport DiffContext from \"./contexts/diff.js\";\nimport PatchContext from \"./contexts/patch.js\";\nimport ReverseContext from \"./contexts/reverse.js\";\nimport Pipe from \"./pipe.js\";\nimport Processor from \"./processor.js\";\nimport * as arrays from \"./filters/arrays.js\";\nimport * as dates from \"./filters/dates.js\";\nimport * as nested from \"./filters/nested.js\";\nimport * as texts from \"./filters/texts.js\";\nimport * as trivial from \"./filters/trivial.js\";\nclass DiffPatcher {\n    constructor(options) {\n        this.processor = new Processor(options);\n        this.processor.pipe(new Pipe(\"diff\")\n            .append(nested.collectChildrenDiffFilter, trivial.diffFilter, dates.diffFilter, texts.diffFilter, nested.objectsDiffFilter, arrays.diffFilter)\n            .shouldHaveResult());\n        this.processor.pipe(new Pipe(\"patch\")\n            .append(nested.collectChildrenPatchFilter, arrays.collectChildrenPatchFilter, trivial.patchFilter, texts.patchFilter, nested.patchFilter, arrays.patchFilter)\n            .shouldHaveResult());\n        this.processor.pipe(new Pipe(\"reverse\")\n            .append(nested.collectChildrenReverseFilter, arrays.collectChildrenReverseFilter, trivial.reverseFilter, texts.reverseFilter, nested.reverseFilter, arrays.reverseFilter)\n            .shouldHaveResult());\n    }\n    options(options) {\n        return this.processor.options(options);\n    }\n    diff(left, right) {\n        return this.processor.process(new DiffContext(left, right));\n    }\n    patch(left, delta) {\n        return this.processor.process(new PatchContext(left, delta));\n    }\n    reverse(delta) {\n        return this.processor.process(new ReverseContext(delta));\n    }\n    unpatch(right, delta) {\n        return this.patch(right, this.reverse(delta));\n    }\n    clone(value) {\n        return clone(value);\n    }\n}\nexport default DiffPatcher;\n","import dateReviver from \"./date-reviver.js\";\nimport DiffPatcher from \"./diffpatcher.js\";\nexport { DiffPatcher, dateReviver };\nexport function create(options) {\n    return new DiffPatcher(options);\n}\nlet defaultInstance;\nexport function diff(left, right) {\n    if (!defaultInstance) {\n        defaultInstance = new DiffPatcher();\n    }\n    return defaultInstance.diff(left, right);\n}\nexport function patch(left, delta) {\n    if (!defaultInstance) {\n        defaultInstance = new DiffPatcher();\n    }\n    return defaultInstance.patch(left, delta);\n}\nexport function unpatch(right, delta) {\n    if (!defaultInstance) {\n        defaultInstance = new DiffPatcher();\n    }\n    return defaultInstance.unpatch(right, delta);\n}\nexport function reverse(delta) {\n    if (!defaultInstance) {\n        defaultInstance = new DiffPatcher();\n    }\n    return defaultInstance.reverse(delta);\n}\nexport function clone(value) {\n    if (!defaultInstance) {\n        defaultInstance = new DiffPatcher();\n    }\n    return defaultInstance.clone(value);\n}\n","import * as jsondiffpatch from 'jsondiffpatch';\nimport { COLLAPSED_INDICATOR, EXPANDED_INDICATOR } from '../constants';\n\nexport type JsonViewOptions = {\n\texpandAll?: boolean;\n\texpandObjs?: Array<string | RegExp>;\n\tuseViewState?: boolean;\n};\n\nconst DEFAULT_OPTIONS = () => ({\n\texpandAll: false,\n\texpandObjects: [],\n\tuseViewState: true\n});\n\nexport class JsonView {\n\tprivate json: any;\n\tprivate parentContainer: HTMLElement;\n\tprivate options: JsonViewOptions;\n\tprivate viewStates: { [key: string]: boolean } = {}; // viewstate tree for retaining view during state updates\n\n\tconstructor(json: any, parentContainer: HTMLElement, options?: JsonViewOptions) {\n\t\tthis.json = json;\n\t\tthis.parentContainer = parentContainer;\n\t\tthis.options = Object.assign({}, DEFAULT_OPTIONS(), options || {});\n\t\tthis.render();\n\t}\n\n\tprivate render(): void {\n\t\tthis.parentContainer.innerHTML = ''; // Clear existing content\n\t\tconst rootNode = this.drawJsonNode(this.json);\n\t\tthis.parentContainer.appendChild(rootNode);\n\t}\n\n\tprivate toggleExpandNode(childNode: HTMLElement, keyPath: string, toggleButton?: HTMLElement) {\n\t\tconst isCollapsed = childNode.classList.contains('collapsed');\n\t\tchildNode.classList.toggle('collapsed', !isCollapsed);\n\t\tthis.viewStates[keyPath] = !isCollapsed;\n\t\tif (toggleButton) toggleButton.textContent = !isCollapsed ? COLLAPSED_INDICATOR : EXPANDED_INDICATOR;\n\t}\n\n\tprivate drawJsonNode(jsonObj: any, currPath: string = ''): HTMLElement {\n\t\tconst nodeContainer = document.createElement('div');\n\t\tnodeContainer.classList.add('json-node');\n\t\tconst propertiesContainer = document.createElement('div');\n\t\tpropertiesContainer.classList.add('json-properties');\n\n\t\tfor (const key in jsonObj) {\n\t\t\tif (Object.prototype.hasOwnProperty.call(jsonObj, key)) {\n\t\t\t\tconst keyPath = `${currPath}${key}`;\n\t\t\t\tconst propertyRow = document.createElement('div');\n\t\t\t\tpropertyRow.classList.add('json-property');\n\t\t\t\tpropertyRow.setAttribute('data-path', keyPath);\n\n\t\t\t\tconst label = document.createElement('span');\n\t\t\t\tlabel.classList.add('json-key');\n\t\t\t\tlabel.textContent = key + ': ';\n\n\t\t\t\tconst valueContainer = document.createElement('div');\n\t\t\t\tvalueContainer.classList.add('json-value');\n\n\t\t\t\tconst value = jsonObj[key];\n\t\t\t\tconst isObject = typeof value === 'object' && value !== null;\n\t\t\t\tconst isArray = Array.isArray(value);\n\n\t\t\t\tif (isObject) {\n\t\t\t\t\tlabel.classList.add('clickable');\n\t\t\t\t\tif (isArray) label.textContent = `${key} (${value.length})`;\n\t\t\t\t\telse label.textContent = key;\n\t\t\t\t\tconst hasChildren = isArray && value.length > 0 ? true : Object.keys(value).length > 0;\n\t\t\t\t\tpropertyRow.classList.add('object');\n\t\t\t\t\t// Create expandable/collapsible toggle button\n\t\t\t\t\tconst toggleButton = document.createElement('button');\n\t\t\t\t\ttoggleButton.classList.add('json-toggle');\n\n\t\t\t\t\t// Recursive call to render child object\n\t\t\t\t\tconst childNode = this.drawJsonNode(value, keyPath + '/');\n\n\t\t\t\t\tif (this.options.expandAll) {\n\t\t\t\t\t\ttoggleButton.textContent = EXPANDED_INDICATOR;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet expand = false;\n\t\t\t\t\t\t// expand empty objects by default:\n\t\t\t\t\t\tif (isArray && hasChildren) {\n\t\t\t\t\t\t\texpand = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.options.expandObjs?.forEach((e) => {\n\t\t\t\t\t\t\t\tif (new RegExp(e).test(keyPath)) expand = true;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// if a viewstate exists use that always:\n\t\t\t\t\t\tif (this.options.useViewState) {\n\t\t\t\t\t\t\tif (typeof this.viewStates[keyPath] !== 'undefined') expand = !this.viewStates[keyPath];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (expand) {\n\t\t\t\t\t\t\ttoggleButton.textContent = EXPANDED_INDICATOR;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttoggleButton.textContent = COLLAPSED_INDICATOR;\n\t\t\t\t\t\t\tchildNode.classList.add('collapsed'); // Start collapsed\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Toggle function for expanding/collapsing\n\t\t\t\t\ttoggleButton.onclick = () => this.toggleExpandNode(childNode, keyPath, toggleButton);\n\t\t\t\t\tlabel.onclick = () => this.toggleExpandNode(childNode, keyPath, toggleButton);\n\n\t\t\t\t\tpropertyRow.appendChild(toggleButton);\n\t\t\t\t\tvalueContainer.appendChild(childNode);\n\t\t\t\t} else {\n\t\t\t\t\tvalueContainer.textContent = String(value);\n\t\t\t\t}\n\n\t\t\t\tpropertyRow.appendChild(label);\n\t\t\t\tpropertyRow.appendChild(valueContainer);\n\t\t\t\tpropertiesContainer.appendChild(propertyRow);\n\t\t\t}\n\t\t}\n\n\t\tnodeContainer.appendChild(propertiesContainer);\n\t\treturn nodeContainer;\n\t}\n\n\tpublic updateJson(newJson: any): void {\n\t\tconst delta = jsondiffpatch.diff(this.json, newJson);\n\t\tif (!delta) return; // No changes\n\n\t\t// Update only the changed DOM nodes, passing newJson so getValueAtPath can use it\n\t\tthis.patchDOM(delta, '', newJson);\n\n\t\t// Update the reference to the new JSON data\n\t\tthis.json = newJson;\n\t}\n\n\tprivate patchDOM(delta: any, currentPath: string = '', newJson?: any): void {\n\t\tconst sourceJson = newJson || this.json;\n\n\t\tfor (const key in delta) {\n\t\t\tif (!Object.prototype.hasOwnProperty.call(delta, key)) continue;\n\n\t\t\tconst change = delta[key];\n\t\t\tconst keyPath = currentPath ? `${currentPath}${key}` : key;\n\n\t\t\t// Check if this is a jsondiffpatch operation marker\n\t\t\tif (key === '_t') continue; // Array marker\n\n\t\t\t// Find the DOM node for this path\n\t\t\tconst propertyNode = this.parentContainer.querySelector(\n\t\t\t\t`.json-property[data-path=\"${keyPath}\"]`\n\t\t\t) as HTMLElement;\n\n\t\t\tif (Array.isArray(change)) {\n\t\t\t\t// Simple value change: [oldValue, newValue]\n\t\t\t\tif (change.length === 2) {\n\t\t\t\t\tconst newValue = this.getValueAtPath(sourceJson, keyPath);\n\t\t\t\t\tthis.updateValueNode(propertyNode, keyPath, newValue);\n\t\t\t\t}\n\t\t\t\t// Deleted value: [oldValue, 0, 0]\n\t\t\t\telse if (change.length === 3 && change[1] === 0 && change[2] === 0) {\n\t\t\t\t\tif (propertyNode) propertyNode.remove();\n\t\t\t\t}\n\t\t\t\t// New value: [newValue]\n\t\t\t\telse if (change.length === 1) {\n\t\t\t\t\tthis.addPropertyNode(keyPath, change[0]);\n\t\t\t\t}\n\t\t\t} else if (typeof change === 'object') {\n\t\t\t\t// Nested object changes - recurse\n\t\t\t\tthis.patchDOM(change, keyPath + '/', sourceJson);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate getValueAtPath(obj: any, path: string): any {\n\t\tconst parts = path.split('/').filter((p) => p);\n\t\tlet current = obj;\n\t\tfor (const part of parts) {\n\t\t\tif (current === null || current === undefined) return undefined;\n\t\t\tcurrent = current[part];\n\t\t}\n\t\treturn current;\n\t}\n\n\tprivate updateValueNode(propertyNode: HTMLElement | null, keyPath: string, newValue: any): void {\n\t\tif (!propertyNode) return;\n\n\t\tconst valueContainer = propertyNode.querySelector('.json-value') as HTMLElement;\n\t\tif (!valueContainer) return;\n\n\t\tconst isObject = typeof newValue === 'object' && newValue !== null;\n\n\t\tif (isObject) {\n\t\t\t// Object/array changed - need to redraw the entire subtree\n\t\t\tconst key = keyPath.split('/').filter((p) => p).pop() || '';\n\t\t\tconst parentPath = keyPath.substring(0, keyPath.lastIndexOf(key));\n\n\t\t\t// Clear old content\n\t\t\tvalueContainer.innerHTML = '';\n\t\t\tpropertyNode.classList.add('object');\n\n\t\t\t// Redraw the node\n\t\t\tconst label = propertyNode.querySelector('.json-key') as HTMLElement;\n\t\t\tconst isArray = Array.isArray(newValue);\n\n\t\t\tif (label) {\n\t\t\t\tlabel.classList.add('clickable');\n\t\t\t\tif (isArray) {\n\t\t\t\t\tlabel.textContent = `${key} (${newValue.length})`;\n\t\t\t\t} else {\n\t\t\t\t\tlabel.textContent = key;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Check if toggle button already exists\n\t\t\tlet toggleButton = propertyNode.querySelector('.json-toggle') as HTMLElement;\n\t\t\tif (!toggleButton) {\n\t\t\t\ttoggleButton = document.createElement('button');\n\t\t\t\ttoggleButton.classList.add('json-toggle');\n\t\t\t\tpropertyNode.insertBefore(toggleButton, label);\n\t\t\t}\n\n\t\t\t// Recursive call to render child object\n\t\t\tconst childNode = this.drawJsonNode(newValue, keyPath + '/');\n\n\t\t\t// Preserve expand state if it exists\n\t\t\tconst wasExpanded = this.viewStates[keyPath];\n\t\t\tif (typeof wasExpanded !== 'undefined') {\n\t\t\t\tif (wasExpanded) {\n\t\t\t\t\ttoggleButton.textContent = EXPANDED_INDICATOR;\n\t\t\t\t} else {\n\t\t\t\t\ttoggleButton.textContent = COLLAPSED_INDICATOR;\n\t\t\t\t\tchildNode.classList.add('collapsed');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttoggleButton.textContent = COLLAPSED_INDICATOR;\n\t\t\t\tchildNode.classList.add('collapsed');\n\t\t\t}\n\n\t\t\ttoggleButton.onclick = () => this.toggleExpandNode(childNode, keyPath, toggleButton);\n\t\t\tif (label) {\n\t\t\t\tlabel.onclick = () => this.toggleExpandNode(childNode, keyPath, toggleButton);\n\t\t\t}\n\n\t\t\tvalueContainer.appendChild(childNode);\n\t\t} else {\n\t\t\t// Simple value - just update text\n\t\t\tpropertyNode.classList.remove('object');\n\t\t\tconst toggleButton = propertyNode.querySelector('.json-toggle');\n\t\t\tif (toggleButton) toggleButton.remove();\n\n\t\t\tvalueContainer.innerHTML = '';\n\t\t\tvalueContainer.textContent = String(newValue);\n\t\t}\n\t}\n\n\tprivate addPropertyNode(keyPath: string, value: any): void {\n\t\tconst pathParts = keyPath.split('/').filter((p) => p);\n\t\tconst key = pathParts.pop() || '';\n\t\tconst parentPath = pathParts.join('/');\n\n\t\t// Find parent container\n\t\tlet parentContainer: HTMLElement | null;\n\t\tif (parentPath) {\n\t\t\tconst parentProperty = this.parentContainer.querySelector(\n\t\t\t\t`.json-property[data-path=\"${parentPath}\"]`\n\t\t\t) as HTMLElement;\n\t\t\tif (parentProperty) {\n\t\t\t\tparentContainer = parentProperty.querySelector('.json-properties') as HTMLElement;\n\t\t\t} else {\n\t\t\t\treturn; // Parent not found\n\t\t\t}\n\t\t} else {\n\t\t\tparentContainer = this.parentContainer.querySelector('.json-properties') as HTMLElement;\n\t\t}\n\n\t\tif (!parentContainer) return;\n\n\t\t// Create new property row\n\t\tconst propertyRow = document.createElement('div');\n\t\tpropertyRow.classList.add('json-property');\n\t\tpropertyRow.setAttribute('data-path', keyPath);\n\n\t\tconst label = document.createElement('span');\n\t\tlabel.classList.add('json-key');\n\t\tlabel.textContent = key + ': ';\n\n\t\tconst valueContainer = document.createElement('div');\n\t\tvalueContainer.classList.add('json-value');\n\n\t\tconst isObject = typeof value === 'object' && value !== null;\n\t\tconst isArray = Array.isArray(value);\n\n\t\tif (isObject) {\n\t\t\tlabel.classList.add('clickable');\n\t\t\tif (isArray) label.textContent = `${key} (${value.length})`;\n\t\t\telse label.textContent = key;\n\t\t\tpropertyRow.classList.add('object');\n\n\t\t\tconst toggleButton = document.createElement('button');\n\t\t\ttoggleButton.classList.add('json-toggle');\n\t\t\ttoggleButton.textContent = COLLAPSED_INDICATOR;\n\n\t\t\tconst childNode = this.drawJsonNode(value, keyPath + '/');\n\t\t\tchildNode.classList.add('collapsed');\n\n\t\t\ttoggleButton.onclick = () => this.toggleExpandNode(childNode, keyPath, toggleButton);\n\t\t\tlabel.onclick = () => this.toggleExpandNode(childNode, keyPath, toggleButton);\n\n\t\t\tpropertyRow.appendChild(toggleButton);\n\t\t\tvalueContainer.appendChild(childNode);\n\t\t} else {\n\t\t\tvalueContainer.textContent = String(value);\n\t\t}\n\n\t\tpropertyRow.appendChild(label);\n\t\tpropertyRow.appendChild(valueContainer);\n\t\tparentContainer.appendChild(propertyRow);\n\t}\n}","export type ResizeOptions = {\n\thandles?: ('top' | 'left' | 'right' | 'bottom' | 'top-left' | 'top-right' | 'bottom-left' | 'bottom-right')[];\n\tmaxWidth?: number;\n\tmaxHeight?: number;\n\tminWidth?: number;\n\tminHeight?: number;\n\tsnapPadding?: number;\n\tonResize?: (width: number, height: number) => void;\n};\n\nexport function makeResizable(container: HTMLElement, options: ResizeOptions = {}) {\n\t// Remove existing handles\n\tcontainer.querySelectorAll('.resize-handle').forEach((handle) => handle.remove());\n\n\t// Default options - now includes all sides and corners\n\tconst {\n\t\thandles = ['top', 'left', 'right', 'bottom', 'top-left', 'top-right', 'bottom-left', 'bottom-right'],\n\t\tmaxWidth = Infinity,\n\t\tmaxHeight = Infinity,\n\t\tminWidth = 100,\n\t\tminHeight = 100,\n\t\tsnapPadding = 20,\n\t\tonResize = () => { }\n\t} = options;\n\n\tlet resizing = false;\n\tlet resizeDirection: string | null = null;\n\tlet startX = 0,\n\t\tstartY = 0;\n\tlet startWidth = 0,\n\t\tstartHeight = 0;\n\tlet startLeft = 0,\n\t\tstartTop = 0;\n\n\tfunction createHandle(position: string) {\n\t\tconst handle = document.createElement('div');\n\t\thandle.classList.add('resize-handle', `resize-${position}`);\n\t\thandle.addEventListener('mousedown', (e) => startResizing(e, position));\n\t\tcontainer.appendChild(handle);\n\t}\n\n\tfunction startResizing(event: MouseEvent, direction: string) {\n\t\tresizing = true;\n\t\tresizeDirection = direction;\n\t\tstartX = event.clientX;\n\t\tstartY = event.clientY;\n\n\t\t// Capture initial dimensions and position\n\t\tstartWidth = container.offsetWidth;\n\t\tstartHeight = container.offsetHeight;\n\t\tstartLeft = container.offsetLeft;\n\t\tstartTop = container.offsetTop;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\tdocument.addEventListener('mousemove', resize);\n\t\tdocument.addEventListener('mouseup', stopResizing);\n\t}\n\n\tfunction resize(event: MouseEvent) {\n\t\tif (!resizing || !resizeDirection) return;\n\n\t\tlet newWidth = startWidth;\n\t\tlet newHeight = startHeight;\n\t\tlet newLeft = startLeft;\n\t\tlet newTop = startTop;\n\n\t\tconst deltaX = event.clientX - startX;\n\t\tconst deltaY = event.clientY - startY;\n\n\t\tconst windowWidth = window.innerWidth || document.documentElement.clientWidth;\n\t\tconst windowHeight = window.innerHeight || document.documentElement.clientHeight;\n\n\t\t// Handle horizontal resizing\n\t\tif (resizeDirection.includes('right')) {\n\t\t\tnewWidth = Math.min(Math.max(startWidth + deltaX, minWidth), maxWidth);\n\n\t\t\t// Snap right edge to right side of window\n\t\t\tconst rightEdge = startLeft + newWidth;\n\t\t\tif (rightEdge >= windowWidth - snapPadding) {\n\t\t\t\tnewWidth = windowWidth - startLeft;\n\t\t\t}\n\t\t}\n\t\tif (resizeDirection.includes('left')) {\n\t\t\tconst potentialWidth = startWidth - deltaX;\n\t\t\tif (potentialWidth >= minWidth && potentialWidth <= maxWidth) {\n\t\t\t\tnewWidth = potentialWidth;\n\t\t\t\tnewLeft = startLeft + deltaX;\n\n\t\t\t\t// Snap left edge to left side of window\n\t\t\t\tif (newLeft <= snapPadding) {\n\t\t\t\t\tconst widthDiff = newLeft;\n\t\t\t\t\tnewLeft = 0;\n\t\t\t\t\tnewWidth = startWidth - deltaX + widthDiff;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Handle vertical resizing\n\t\tif (resizeDirection.includes('bottom')) {\n\t\t\tnewHeight = Math.min(Math.max(startHeight + deltaY, minHeight), maxHeight);\n\n\t\t\t// Snap bottom edge to bottom of window\n\t\t\tconst bottomEdge = startTop + newHeight;\n\t\t\tif (bottomEdge >= windowHeight - snapPadding) {\n\t\t\t\tnewHeight = windowHeight - startTop;\n\t\t\t}\n\t\t}\n\t\tif (resizeDirection.includes('top')) {\n\t\t\tconst potentialHeight = startHeight - deltaY;\n\t\t\tif (potentialHeight >= minHeight && potentialHeight <= maxHeight) {\n\t\t\t\tnewHeight = potentialHeight;\n\t\t\t\tnewTop = startTop + deltaY;\n\n\t\t\t\t// Snap top edge to top of window\n\t\t\t\tif (newTop <= snapPadding) {\n\t\t\t\t\tconst heightDiff = newTop;\n\t\t\t\t\tnewTop = 0;\n\t\t\t\t\tnewHeight = startHeight - deltaY + heightDiff;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcontainer.style.width = `${newWidth}px`;\n\t\tcontainer.style.height = `${newHeight}px`;\n\t\tcontainer.style.left = `${newLeft}px`;\n\t\tcontainer.style.top = `${newTop}px`;\n\n\t\tonResize(newWidth, newHeight);\n\t}\n\n\tfunction stopResizing() {\n\t\tresizing = false;\n\t\tresizeDirection = null;\n\t\tdocument.removeEventListener('mousemove', resize);\n\t\tdocument.removeEventListener('mouseup', stopResizing);\n\t}\n\n\t// Add handles based on config\n\thandles.forEach((handle) => createHandle(handle));\n}\n\nexport type DragOptions = {\n\tonDragStart?: (e: MouseEvent) => void;\n\tonDrag?: (x: number, y: number) => void | { x?: number; y?: number };\n\tonDragEnd?: () => void;\n};\n\nexport function makeDraggable(\n\telement: HTMLElement,\n\thandleElement?: HTMLElement,\n\toptions: DragOptions = {}\n) {\n\tconst dragHandle = handleElement || element;\n\tlet isDragging = false;\n\tlet startX = 0;\n\tlet startY = 0;\n\tlet initialLeft = 0;\n\tlet initialTop = 0;\n\n\tconst { onDragStart, onDrag, onDragEnd } = options;\n\n\tfunction startDragging(event: MouseEvent) {\n\t\t// Don't start dragging if clicking on buttons or interactive elements\n\t\tconst target = event.target as HTMLElement;\n\t\tif (target.tagName === 'BUTTON' || target.closest('button')) {\n\t\t\treturn;\n\t\t}\n\n\t\tisDragging = true;\n\t\tstartX = event.clientX;\n\t\tstartY = event.clientY;\n\n\t\t// Get current computed position (handles both absolute and other positioning)\n\t\tconst computedStyle = getComputedStyle(element);\n\t\tinitialLeft = parseInt(computedStyle.left) || element.offsetLeft;\n\t\tinitialTop = parseInt(computedStyle.top) || element.offsetTop;\n\n\t\t// Ensure element has position fixed or absolute for dragging\n\t\tif (computedStyle.position !== 'absolute' && computedStyle.position !== 'fixed') {\n\t\t\telement.style.position = 'absolute';\n\t\t\telement.style.left = `${initialLeft}px`;\n\t\t\telement.style.top = `${initialTop}px`;\n\t\t}\n\n\t\tevent.preventDefault();\n\t\tdragHandle.style.cursor = 'grabbing';\n\n\t\tif (onDragStart) onDragStart(event);\n\n\t\tdocument.addEventListener('mousemove', drag);\n\t\tdocument.addEventListener('mouseup', stopDragging);\n\t}\n\n\tfunction drag(event: MouseEvent) {\n\t\tif (!isDragging) return;\n\n\t\tconst deltaX = event.clientX - startX;\n\t\tconst deltaY = event.clientY - startY;\n\n\t\tlet newLeft = initialLeft + deltaX;\n\t\tlet newTop = initialTop + deltaY;\n\n\t\t// Call onDrag callback which may modify the position (e.g., for snapping)\n\t\tif (onDrag) {\n\t\t\tconst result = onDrag(newLeft, newTop);\n\t\t\t// If onDrag returns adjusted coordinates, use them\n\t\t\tif (result && typeof result === 'object') {\n\t\t\t\tif (typeof result.x === 'number') newLeft = result.x;\n\t\t\t\tif (typeof result.y === 'number') newTop = result.y;\n\t\t\t}\n\t\t}\n\n\t\telement.style.left = `${newLeft}px`;\n\t\telement.style.top = `${newTop}px`;\n\t}\n\n\tfunction stopDragging() {\n\t\tif (!isDragging) return;\n\n\t\tisDragging = false;\n\t\tdragHandle.style.cursor = 'grab';\n\n\t\tif (onDragEnd) onDragEnd();\n\n\t\tdocument.removeEventListener('mousemove', drag);\n\t\tdocument.removeEventListener('mouseup', stopDragging);\n\t}\n\n\t// Set up drag handle cursor\n\tdragHandle.style.cursor = 'grab';\n\tdragHandle.addEventListener('mousedown', startDragging);\n\n\t// Return cleanup function\n\treturn () => {\n\t\tdragHandle.removeEventListener('mousedown', startDragging);\n\t\tdocument.removeEventListener('mousemove', drag);\n\t\tdocument.removeEventListener('mouseup', stopDragging);\n\t};\n}\n\nexport function getWindowSize(): { width: number; height: number } {\n\tconst width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n\tconst height = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;\n\treturn { width, height };\n}\n"],"mappings":"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","names":["EventBus","css","clone","debug","collectChildrenPatchFilter","diffFilter","patchFilter","nestedPatchFilter","collectChildrenPatchFilter","reverseFilter","collectChildrenReverseFilter","diffFilter","diff","patchFilter","reverseFilter","diffFilter","patchFilter","reverseFilter","diffFilter","collectChildrenPatchFilter","patchFilter","collectChildrenReverseFilter","reverseFilter","ScreenPosition","EventBus","safeStringify"]}