// Variables
$animTime: 0.1s;
$colorKey: #9cdcfe;
$colorKeyHover: #4fc3f7;
$colorValue: #ce9178;
$colorToggle: #888;
$colorToggleHover: #fff;

// JSON Tree Styles
.json-node {
	position: relative;
	margin-left: 15px;
	padding-left: 0;
	font-size: 12px;
	line-height: 1.2em;

	.json-properties {
		display: flex;
		flex-direction: column;
	}

	.json-property {
		position: relative;
		display: flex;
		align-items: flex-start;
		padding: 0;

		&.object {
			flex-direction: column;
		}
	}

	.json-key {
		font-weight: bold;
		margin-right: 5px;
		color: $colorKey;
		padding: 2px 0;
		flex: 0;
		display: flex;
		align-items: center;
		gap: 4px;

		&.clickable {
			cursor: pointer;
			width: 100%;

			& + .json-value {
				width: 100%;
			}

			&:hover {
				color: $colorKeyHover;
				text-decoration: underline;

				.json-expand-collapse-actions {
					opacity: 1;
				}

				// & + .json-toggle {
				// 	color: $colorToggleHover;
				// }
			}
		}
	}

	.json-expand-collapse-actions {
		display: flex;
		gap: 2px;
		opacity: 0;
		transition: opacity $animTime;
		margin-left: auto;

		button {
			background: rgba(100, 100, 100, 0.6);
			border: none;
			color: white;
			font-size: 9px;
			padding: 2px 4px;
			border-radius: 2px;
			cursor: pointer;
			transition: background $animTime;

			&:hover {
				background: rgba(120, 120, 120, 0.8);
			}

			&:focus {
				outline: none;
			}
		}
	}

	.json-value {
		color: $colorValue;
		white-space: pre-wrap;
		//word-break: break-word;
		padding: 2px 0;
		flex: 1;
	}

	.json-toggle {
		position: absolute;
		left: -20px;
		border: none;
		background: none;
		cursor: pointer;
		color: $colorToggle;
		font-size: 9px;
		padding: 0;
		width: 22px;
		height: 20px;
		transition: color $animTime;

		&:hover {
			color: $colorToggleHover;
		}

		&:focus {
			outline: none;
		}
	}

	.json-property:hover {
		> .json-toggle {
			color: $colorToggleHover;
		}
	}

	&.collapsed {
		.json-properties {
			display: none;
		}
	}
}
